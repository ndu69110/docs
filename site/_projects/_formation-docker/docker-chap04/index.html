<!doctype html><html lang=fr class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Write your documentation in Markdown and create a professional static site in minutes ‚Äì searchable, customizable, in 60+ languages, for all devices"><meta name=author content=ndu69110><link href=https://ndu69110.github.io/docs/_projects/_formation-docker/docker-chap04/ rel=canonical><link href=../docker-chap03/ rel=prev><link href=../docker-chap05/ rel=next><link rel=icon href=../../../logo/logo.webp><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.0"><title>Chaptitre 4 - GHOST IN THE CLOUD</title><link rel=stylesheet href=../../../assets/stylesheets/main.618322db.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../overrides/extra.css><link rel=stylesheet href=../../../css/open_in_new_tab.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script><link rel=stylesheet href=../../../assets/stylesheets/custom.7c86dd97.min.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#citations class=md-skip> Aller au contenu </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> For updates follow <strong>@ndu69110</strong> on <a rel=me href=https://x.com/ndu69110> <span class="twemoji twitter"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M357.2 48h70.6L273.6 224.2 455 464H313L201.7 318.6 74.5 464H3.8l164.9-188.5L-5.2 48h145.6l100.5 132.9zm-24.8 373.8h39.1L119.1 88h-42z"/></svg> </span> <strong>Twitter</strong> </a> </div> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=En-t√™te> <a href=../../.. title="GHOST IN THE CLOUD" class="md-header__button md-logo" aria-label="GHOST IN THE CLOUD" data-md-component=logo> <img src=../../../logo/logo.webp alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> GHOST IN THE CLOUD </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Chaptitre 4 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-hidden=true type=radio name=__palette id=__palette_0> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-hidden=true type=radio name=__palette id=__palette_1> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Rechercher placeholder=Rechercher autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Recherche> <a href=javascript:void(0) class="md-search__icon md-icon" title=Partager aria-label=Partager data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Effacer aria-label=Effacer tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initialisation de la recherche </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ndu69110 title="Aller au d√©p√¥t" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> github.com/ndu69110 </div> </a> </div> </nav> <nav class=md-tabs aria-label=Onglets data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Accueil üè† </a> </li> <li class=md-tabs__item> <a href=../../../_whoami/whoami/ class=md-tabs__link> Qui suis-je ? üëã </a> </li> <li class=md-tabs__item> <a href=../../../_gestionsite/gestionsite/ class=md-tabs__link> Gestion du site ‚öôÔ∏è </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../introduction/introduction/ class=md-tabs__link> Projets </a> </li> <li class=md-tabs__item> <a href=../../../blog/ class=md-tabs__link> Blog üìë </a> </li> <li class=md-tabs__item> <a href=../../../tags/ class=md-tabs__link> Tags üîó </a> </li> <li class=md-tabs__item> <a href=../../../_contact/contact/ class=md-tabs__link> Contact ‚úâÔ∏è </a> </li> <li class=md-tabs__item> <a href=../../../_buymeacoffee/buymeacoffee/ class=md-tabs__link> Soutenez mon projet üöÄ </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="GHOST IN THE CLOUD" class="md-nav__button md-logo" aria-label="GHOST IN THE CLOUD" data-md-component=logo> <img src=../../../logo/logo.webp alt=logo> </a> GHOST IN THE CLOUD </label> <div class=md-nav__source> <a href=https://github.com/ndu69110 title="Aller au d√©p√¥t" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> github.com/ndu69110 </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Accueil üè† </span> </a> </li> <li class=md-nav__item> <a href=../../../_whoami/whoami/ class=md-nav__link> <span class=md-ellipsis> Qui suis-je ? üëã </span> </a> </li> <li class=md-nav__item> <a href=../../../_gestionsite/gestionsite/ class=md-nav__link> <span class=md-ellipsis> Gestion du site ‚öôÔ∏è </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Projets </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Projets </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../introduction/introduction/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../sommaire/sommaire/ class=md-nav__link> <span class=md-ellipsis> Sommaire </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Formation Azure </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Formation Azure </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../_formation-azure/azure-chap01/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 1 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure/azure-chap02/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 2 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure/azure-chap03/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 3 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure/azure-chap04/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 4 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure/azure-chap05/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 5 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure/azure-chap06/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 6 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure/azure-chap07/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 7 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure/azure-chap08/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 8 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure/azure-chap09/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 9 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure/azure-chap10/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 10 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure/azure-chap11/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 11 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure/azure-chap12/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 12 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure/azure-chap13/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 13 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure/azure-chap14/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 14 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> Formation Azure Devops </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Formation Azure Devops </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../_formation-azure-devops/azure-devops-chap01/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 1 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure-devops/azure-devops-chap02/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 2 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure-devops/azure-devops-chap03/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 3 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure-devops/azure-devops-chap04/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 4 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure-devops/azure-devops-chap05/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 5 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure-devops/azure-devops-chap06/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 6 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure-devops/azure-devops-chap07/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 7 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure-devops/azure-devops-chap08/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 8 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-azure-devops/azure-devops-chap09/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 9 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <label class=md-nav__link for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class=md-ellipsis> Formation Bash </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Formation Bash </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../_formation-bash/bash-chap01/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 1 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-bash/bash-chap02/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 2 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-bash/bash-chap03/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 3 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-bash/bash-chap04/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 4 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-bash/bash-chap05/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 5 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-bash/bash-chap06/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 6 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-bash/bash-chap07/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 7 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-bash/bash-chap08/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 8 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-bash/bash-chap09/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 9 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-bash/bash-chap10/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 10 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-bash/bash-chap11/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 11 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-bash/bash-chap12/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 12 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-bash/bash-chap13/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 13 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_6 checked> <label class=md-nav__link for=__nav_4_6 id=__nav_4_6_label tabindex=0> <span class=md-ellipsis> Formation Docker </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_6_label aria-expanded=true> <label class=md-nav__title for=__nav_4_6> <span class="md-nav__icon md-icon"></span> Formation Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../docker-chap01/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 1 </span> </a> </li> <li class=md-nav__item> <a href=../docker-chap02/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 2 </span> </a> </li> <li class=md-nav__item> <a href=../docker-chap03/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 3 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Chaptitre 4 </span> </a> </li> <li class=md-nav__item> <a href=../docker-chap05/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 5 </span> </a> </li> <li class=md-nav__item> <a href=../docker-chap06/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 6 </span> </a> </li> <li class=md-nav__item> <a href=../docker-chap07/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 7 </span> </a> </li> <li class=md-nav__item> <a href=../docker-chap08/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 8 </span> </a> </li> <li class=md-nav__item> <a href=../docker-chap09/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 9 </span> </a> </li> <li class=md-nav__item> <a href=../docker-chap10/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 10 </span> </a> </li> <li class=md-nav__item> <a href=../docker-chap11/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 11 </span> </a> </li> <li class=md-nav__item> <a href=../docker-chap12/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 12 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_7> <label class=md-nav__link for=__nav_4_7 id=__nav_4_7_label tabindex=0> <span class=md-ellipsis> Formation Git </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_7_label aria-expanded=false> <label class=md-nav__title for=__nav_4_7> <span class="md-nav__icon md-icon"></span> Formation Git </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../_formation-git/git-chap01/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 1 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-git/git-chap02/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 2 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-git/git-chap03/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 3 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-git/git-chap04/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 4 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-git/git-chap05/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 5 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-git/git-chap06/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 6 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-git/git-chap07/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 7 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-git/git-chap08/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 8 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-git/git-chap09/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 9 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_8> <label class=md-nav__link for=__nav_4_8 id=__nav_4_8_label tabindex=0> <span class=md-ellipsis> Formation Github Actions </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_8_label aria-expanded=false> <label class=md-nav__title for=__nav_4_8> <span class="md-nav__icon md-icon"></span> Formation Github Actions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../_formation-github-actions/github-actions-chap01/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 1 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-github-actions/github-actions-chap02/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 2 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-github-actions/github-actions-chap03/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 3 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-github-actions/github-actions-chap04/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 4 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-github-actions/github-actions-chap05/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 5 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-github-actions/github-actions-chap06/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 6 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-github-actions/github-actions-chap07/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 7 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-github-actions/github-actions-chap08/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 8 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_9> <label class=md-nav__link for=__nav_4_9 id=__nav_4_9_label tabindex=0> <span class=md-ellipsis> Formation Gitlab CI/CD </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_9_label aria-expanded=false> <label class=md-nav__title for=__nav_4_9> <span class="md-nav__icon md-icon"></span> Formation Gitlab CI/CD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../_formation-gitlab-cicd/gitlab-cicd-chap01/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 1 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-gitlab-cicd/gitlab-cicd-chap02/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 2 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-gitlab-cicd/gitlab-cicd-chap03/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 3 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-gitlab-cicd/gitlab-cicd-chap04/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 4 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-gitlab-cicd/gitlab-cicd-chap05/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 5 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-gitlab-cicd/gitlab-cicd-chap06/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 6 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-gitlab-cicd/gitlab-cicd-chap07/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 7 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_10> <label class=md-nav__link for=__nav_4_10 id=__nav_4_10_label tabindex=0> <span class=md-ellipsis> Formation NGINX </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_10_label aria-expanded=false> <label class=md-nav__title for=__nav_4_10> <span class="md-nav__icon md-icon"></span> Formation NGINX </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap01/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 1 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap02/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 2 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap03/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 3 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap04/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 4 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap05/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 5 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap06/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 6 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap07/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 7 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap08/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 8 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap09/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 9 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap10/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 10 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap11/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 11 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap12/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 12 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap13/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 13 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap14/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 14 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap15/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 15 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap16/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 16 </span> </a> </li> <li class=md-nav__item> <a href=../../_formation-nginx/nginx-chap17/ class=md-nav__link> <span class=md-ellipsis> Chaptitre 17 </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../../../blog/ class="md-nav__link "> <span class=md-ellipsis> Blog üìë </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Blog üìë </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../blog/author/team/ class=md-nav__link> <span class=md-ellipsis> Microsoft, IT, actualit√©s et divers </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../blog/archive/2025/ class=md-nav__link> <span class=md-ellipsis> novembre 2025 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4 id=__nav_5_4_label tabindex=0> <span class=md-ellipsis> Categories </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> Categories </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../blog/category/globule/ class=md-nav__link> <span class=md-ellipsis> globule </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../tags/ class=md-nav__link> <span class=md-ellipsis> Tags üîó </span> </a> </li> <li class=md-nav__item> <a href=../../../_contact/contact/ class=md-nav__link> <span class=md-ellipsis> Contact ‚úâÔ∏è </span> </a> </li> <li class=md-nav__item> <a href=../../../_buymeacoffee/buymeacoffee/ class=md-nav__link> <span class=md-ellipsis> Soutenez mon projet üöÄ </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <nav class=md-path aria-label=Navigation> <ol class=md-path__list> <li class=md-path__item> <a href=../../.. class=md-path__link> <span class=md-ellipsis> Accueil üè† </span> </a> </li> <li class=md-path__item> <a href=../../introduction/introduction/ class=md-path__link> <span class=md-ellipsis> Projets </span> </a> </li> <li class=md-path__item> <a href=../docker-chap01/ class=md-path__link> <span class=md-ellipsis> Formation Docker </span> </a> </li> </ol> </nav> <article class="md-content__inner md-typeset"> <a href=https://github.com/ndu69110/site/blob/main/docs/_projects/_formation-docker/docker-chap04.md title="Editer cette page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/ndu69110/site/raw/main/docs/_projects/_formation-docker/docker-chap04.md title="Consulter la source de cette page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1 id=citations>Citations<a class=headerlink href=#citations title="Permanent link">&para;</a></h1> <ul> <li><a href=https://www.nutrient.io/blog/docker-import-export-vs-load-save/ >https://www.nutrient.io/blog/docker-import-export-vs-load-save/</a></li> <li><a href=https://docs.docker.com/reference/cli/docker/image/save/ >https://docs.docker.com/reference/cli/docker/image/save/</a></li> <li><a href=https://forums.docker.com/t/docker-image-load-vs-import/147979>https://forums.docker.com/t/docker-image-load-vs-import/147979</a></li> <li><a href=https://docker-community-leaders.github.io/community/handbooks/docker101/beginners/saving-images-as-tar/ >https://docker-community-leaders.github.io/community/handbooks/docker101/beginners/saving-images-as-tar/</a></li> <li><a href=https://gist.github.com/2c2be0b66695f987bf22>https://gist.github.com/2c2be0b66695f987bf22</a></li> <li><a href=https://forums.docker.com/t/docker-save-load-performance/9245>https://forums.docker.com/t/docker-save-load-performance/9245</a></li> </ul> <h1 id=tokens>Tokens<a class=headerlink href=#tokens title="Permanent link">&para;</a></h1> <ul> <li>prompt_tokens: 267</li> <li>completion_tokens: 8859</li> <li>total_tokens: 9126</li> <li>search_context_size: low</li> <li>cost: {'input_tokens_cost': 0.001, 'output_tokens_cost': 0.133, 'request_cost': 0.006, 'total_cost': 0.14}</li> </ul> <h1 id=content>Content<a class=headerlink href=#content title="Permanent link">&para;</a></h1> <h1 id=chapitre-4-trouver-et-partager-des-images-docker>üì¶ Chapitre 4 : Trouver et Partager des Images Docker<a class=headerlink href=#chapitre-4-trouver-et-partager-des-images-docker title="Permanent link">&para;</a></h1> <h2 id=introduction-au-partage-dimages-docker>üéØ Introduction au Partage d'Images Docker<a class=headerlink href=#introduction-au-partage-dimages-docker title="Permanent link">&para;</a></h2> <p>Le partage et la distribution d'images Docker constituent un √©l√©ment central de l'√©cosyst√®me Docker. La capacit√© √† exporter, importer, sauvegarder et charger des images permet aux d√©veloppeurs et aux √©quipes d'infrastructure de collaborer efficacement, de maintenir des caches de construction et de g√©rer les d√©pendances sans d√©pendre constamment d'une connexion r√©seau vers des registres distants.</p> <p>Cette section explore en d√©tail les diff√©rentes m√©thodes de gestion des images Docker, en distinguant clairement les commandes qui op√®rent sur les images de celles qui manipulent les conteneurs. La compr√©hension de ces distinctions s'av√®re cruciale pour optimiser les workflows de d√©ploiement et de maintenance.</p> <hr> <h2 id=presentation-de-docker-hub>üåê Pr√©sentation de Docker Hub<a class=headerlink href=#presentation-de-docker-hub title="Permanent link">&para;</a></h2> <h3 id=quest-ce-que-docker-hub>Qu'est-ce que Docker Hub ?<a class=headerlink href=#quest-ce-que-docker-hub title="Permanent link">&para;</a></h3> <p>Docker Hub repr√©sente le registre public par d√©faut de Docker, fonctionnant comme un r√©f√©rentiel centralis√© pour stocker, partager et g√©rer les images Docker. Cette plateforme offre une infrastructure compl√®te permettant aux d√©veloppeurs et aux organisations de mettre √† disposition leurs images conteneuris√©es aupr√®s de la communaut√© mondiale ou en acc√®s restreint.</p> <h3 id=architecture-et-fonctionnalites-principales>Architecture et Fonctionnalit√©s Principales<a class=headerlink href=#architecture-et-fonctionnalites-principales title="Permanent link">&para;</a></h3> <p>Docker Hub fonctionne selon une architecture client-serveur o√π les images sont organis√©es en registres. Chaque image peut poss√©der plusieurs versions, identifi√©es par des balises (tags). La plateforme supporte :</p> <ul> <li><strong>Registres Publics</strong> : Accessibles √† tous sans authentification</li> <li><strong>Registres Priv√©s</strong> : Accessibles uniquement aux utilisateurs autoris√©s</li> <li><strong>Organisations</strong> : Permettant une gestion collaborative d'images</li> <li><strong>Automatisation</strong> : Int√©gration avec les d√©p√¥ts Git pour des constructions automatiques</li> <li><strong>Analyse de S√©curit√©</strong> : D√©tection de vuln√©rabilit√©s dans les images</li> </ul> <h3 id=authentification-et-acces>Authentification et Acc√®s<a class=headerlink href=#authentification-et-acces title="Permanent link">&para;</a></h3> <p>La connexion √† Docker Hub s'effectue via la ligne de commande avec la commande suivante :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a><a href=#__codelineno-0-1><span class=linenos data-linenos="1 "></span></a>docker<span class=w> </span>login
</span></code></pre></div> <p>Cette commande invite l'utilisateur √† entrer son nom d'utilisateur et son mot de passe Docker Hub. Une fois authentifi√©, les identifiants sont stock√©s localement, permettant de pousser et de tirer des images priv√©es.</p> <h3 id=organisation-des-images>Organisation des Images<a class=headerlink href=#organisation-des-images title="Permanent link">&para;</a></h3> <p>Sur Docker Hub, les images sont organis√©es selon une nomenclature sp√©cifique :</p> <div class="language-text highlight"><span class=filename>Text Only</span><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1></a><a href=#__codelineno-1-1><span class=linenos data-linenos="1 "></span></a>[REGISTRE]/[NAMESPACE]/[NOM_IMAGE]:[TAG]
</span></code></pre></div> <p>Par exemple : - <code>docker.io/library/ubuntu:22.04</code> pour une image officielle - <code>docker.io/monnom/monappli:v1.0</code> pour une image personnelle - <code>docker.io/monentreprise/backend:latest</code> pour une image organisationnelle</p> <h3 id=recherche-et-decouverte-dimages>Recherche et D√©couverte d'Images<a class=headerlink href=#recherche-et-decouverte-dimages title="Permanent link">&para;</a></h3> <p>La recherche d'images se r√©alise via :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1></a><a href=#__codelineno-2-1><span class=linenos data-linenos="1 "></span></a>docker<span class=w> </span>search<span class=w> </span>nginx
</span></code></pre></div> <p>Cette commande retourne une liste des images disponibles correspondant √† la requ√™te, avec les m√©tadonn√©es associ√©es telles que : - Le nombre de pulls (t√©l√©chargements) - Le statut "OFFICIAL" pour les images certifi√©es - La description courte de l'image</p> <h3 id=images-officielles-et-verifiees>Images Officielles et V√©rifi√©es<a class=headerlink href=#images-officielles-et-verifiees title="Permanent link">&para;</a></h3> <p>Docker Hub propose des images officielles, maintenues par des √©quipes d'experts et v√©rifi√©es pour leur qualit√© et leur s√©curit√©. Ces images b√©n√©ficient d'une maintenance r√©guli√®re, de mises √† jour de s√©curit√© et de documentation compl√®te. Les organisations peuvent √©galement obtenir le statut de "Verified Publisher" en d√©montrant leur engagement envers la qualit√©.</p> <hr> <h2 id=les-commandes-export-et-import>üîÑ Les Commandes export et import<a class=headerlink href=#les-commandes-export-et-import title="Permanent link">&para;</a></h2> <h3 id=principes-fondamentaux>Principes Fondamentaux<a class=headerlink href=#principes-fondamentaux title="Permanent link">&para;</a></h3> <p>Les commandes <code>export</code> et <code>import</code> op√®rent sp√©cifiquement sur les conteneurs, non sur les images. Alors qu'une image repr√©sente un mod√®le ou une configuration, un conteneur constitue une instance en cours d'ex√©cution cr√©√©e √† partir de cette image.[1] La compr√©hension de cette distinction s'av√®re essentielle pour utiliser correctement ces commandes.</p> <p>La commande <code>export</code> g√©n√®re une <strong>capture du syst√®me de fichiers</strong> d'un conteneur, comparable √† un snapshot du disque dur de ce conteneur. Inversement, la commande <code>import</code> prend ce syst√®me de fichiers et le transforme en une nouvelle image Docker utilisable.[1]</p> <h3 id=fonctionnement-de-docker-export>Fonctionnement de docker export<a class=headerlink href=#fonctionnement-de-docker-export title="Permanent link">&para;</a></h3> <h4 id=definition-et-utilite>D√©finition et Utilit√©<a class=headerlink href=#definition-et-utilite title="Permanent link">&para;</a></h4> <p><code>docker export</code> exporte le syst√®me de fichiers entier d'un conteneur sous la forme d'une archive TAR. Cette op√©ration capture l'√©tat actuel du conteneur, qu'il soit en cours d'ex√©cution ou arr√™t√©.[1] L'archive r√©sultante contient tous les fichiers et r√©pertoires pr√©sents dans le conteneur, aplatis en une structure de fichiers unique.</p> <h4 id=syntaxe-et-utilisation>Syntaxe et Utilisation<a class=headerlink href=#syntaxe-et-utilisation title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1></a><a href=#__codelineno-3-1><span class=linenos data-linenos="1 "></span></a>docker<span class=w> </span><span class=nb>export</span><span class=w> </span>CONTENEUR<span class=w> </span>&gt;<span class=w> </span>archive.tar
</span></code></pre></div> <p>ou avec l'option <code>--output</code> :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1></a><a href=#__codelineno-4-1><span class=linenos data-linenos="1 "></span></a>docker<span class=w> </span><span class=nb>export</span><span class=w> </span>--output<span class=w> </span>archive.tar<span class=w> </span>CONTENEUR
</span></code></pre></div> <h4 id=exemple-pratique-complet>Exemple Pratique Complet<a class=headerlink href=#exemple-pratique-complet title="Permanent link">&para;</a></h4> <p>Consid√©rons le sc√©nario suivant : il est n√©cessaire de capturer l'√©tat d'un conteneur nginx apr√®s y avoir effectu√© des modifications personnalis√©es.</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1></a><a href=#__codelineno-5-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1># Cr√©er et lancer un conteneur nginx</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2></a><a href=#__codelineno-5-2><span class=linenos data-linenos=" 2 "></span></a>docker<span class=w> </span>run<span class=w> </span>-d<span class=w> </span>--name<span class=w> </span>mon-nginx<span class=w> </span>nginx:latest
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3></a><a href=#__codelineno-5-3><span class=linenos data-linenos=" 3 "></span></a>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4></a><a href=#__codelineno-5-4><span class=linenos data-linenos=" 4 "></span></a><span class=c1># Effectuer des modifications dans le conteneur (exemple simplifi√©)</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5></a><a href=#__codelineno-5-5><span class=linenos data-linenos=" 5 "></span></a>docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>mon-nginx<span class=w> </span>bash<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;echo &#39;Configuration personnalis√©e&#39; &gt; /usr/share/nginx/html/config.txt&quot;</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6></a><a href=#__codelineno-5-6><span class=linenos data-linenos=" 6 "></span></a>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7></a><a href=#__codelineno-5-7><span class=linenos data-linenos=" 7 "></span></a><span class=c1># Exporter le conteneur</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8></a><a href=#__codelineno-5-8><span class=linenos data-linenos=" 8 "></span></a>docker<span class=w> </span><span class=nb>export</span><span class=w> </span>mon-nginx<span class=w> </span>&gt;<span class=w> </span>nginx-custom.tar
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9></a><a href=#__codelineno-5-9><span class=linenos data-linenos=" 9 "></span></a>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10></a><a href=#__codelineno-5-10><span class=linenos data-linenos="10 "></span></a><span class=c1># V√©rifier la taille du fichier</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11></a><a href=#__codelineno-5-11><span class=linenos data-linenos="11 "></span></a>ls<span class=w> </span>-lh<span class=w> </span>nginx-custom.tar
</span></code></pre></div> <p>Le fichier g√©n√©r√© contient une snapshot compl√®te du syst√®me de fichiers du conteneur. Pour examiner son contenu :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1></a><a href=#__codelineno-6-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Lister les fichiers contenus dans l&#39;archive</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2></a><a href=#__codelineno-6-2><span class=linenos data-linenos="2 "></span></a>tar<span class=w> </span>-tf<span class=w> </span>nginx-custom.tar<span class=w> </span><span class=p>|</span><span class=w> </span>head<span class=w> </span>-20
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3></a><a href=#__codelineno-6-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4></a><a href=#__codelineno-6-4><span class=linenos data-linenos="4 "></span></a><span class=c1># Extraire l&#39;archive pour inspection</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5></a><a href=#__codelineno-6-5><span class=linenos data-linenos="5 "></span></a>mkdir<span class=w> </span>extracted-fs
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6></a><a href=#__codelineno-6-6><span class=linenos data-linenos="6 "></span></a>tar<span class=w> </span>-xf<span class=w> </span>nginx-custom.tar<span class=w> </span>-C<span class=w> </span>extracted-fs
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7></a><a href=#__codelineno-6-7><span class=linenos data-linenos="7 "></span></a>ls<span class=w> </span>extracted-fs
</span></code></pre></div> <h3 id=fonctionnement-de-docker-import>Fonctionnement de docker import<a class=headerlink href=#fonctionnement-de-docker-import title="Permanent link">&para;</a></h3> <h4 id=definition-et-utilite_1>D√©finition et Utilit√©<a class=headerlink href=#definition-et-utilite_1 title="Permanent link">&para;</a></h4> <p><code>docker import</code> effectue l'op√©ration inverse : elle prend une archive TAR (g√©n√©ralement cr√©√©e par <code>export</code>) et l'importe en tant que nouvelle image Docker.[1] L'image r√©sultante est aplatie, ce qui signifie qu'elle ne conserve qu'une seule couche, contrairement aux images construites via des Dockerfiles qui poss√®dent plusieurs couches.</p> <h4 id=syntaxe-et-utilisation_1>Syntaxe et Utilisation<a class=headerlink href=#syntaxe-et-utilisation_1 title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1></a><a href=#__codelineno-7-1><span class=linenos data-linenos="1 "></span></a>docker<span class=w> </span>import<span class=w> </span><span class=o>[</span>OPTIONS<span class=o>]</span><span class=w> </span>TAR_FILE<span class=w> </span><span class=o>[</span>REPOSITORY<span class=o>[</span>:TAG<span class=o>]]</span>
</span></code></pre></div> <h4 id=exemple-pratique-complet_1>Exemple Pratique Complet<a class=headerlink href=#exemple-pratique-complet_1 title="Permanent link">&para;</a></h4> <p>Reprenant l'exemple pr√©c√©dent, l'archive peut maintenant √™tre import√©e en tant qu'image :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1></a><a href=#__codelineno-8-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Importer l&#39;archive en tant que nouvelle image</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2></a><a href=#__codelineno-8-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>import<span class=w> </span>nginx-custom.tar<span class=w> </span>ma-nginx-personnalisee:v1.0
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3></a><a href=#__codelineno-8-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4></a><a href=#__codelineno-8-4><span class=linenos data-linenos="4 "></span></a><span class=c1># V√©rifier que l&#39;image a √©t√© cr√©√©e</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5></a><a href=#__codelineno-8-5><span class=linenos data-linenos="5 "></span></a>docker<span class=w> </span>images<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>ma-nginx-personnalisee
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6></a><a href=#__codelineno-8-6><span class=linenos data-linenos="6 "></span></a>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7></a><a href=#__codelineno-8-7><span class=linenos data-linenos="7 "></span></a><span class=c1># Lancer un conteneur √† partir de cette nouvelle image</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8></a><a href=#__codelineno-8-8><span class=linenos data-linenos="8 "></span></a>docker<span class=w> </span>run<span class=w> </span>-d<span class=w> </span>--name<span class=w> </span>conteneur-nginx<span class=w> </span>ma-nginx-personnalisee:v1.0<span class=w> </span>nginx<span class=w> </span>-g<span class=w> </span><span class=s2>&quot;daemon off;&quot;</span>
</span></code></pre></div> <h3 id=modele-de-donnees-export-vs-import>Mod√®le de Donn√©es : Export vs Import<a class=headerlink href=#modele-de-donnees-export-vs-import title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Aspect</th> <th>D√©tail</th> </tr> </thead> <tbody> <tr> <td><strong>Source</strong></td> <td>Conteneur en ex√©cution ou arr√™t√©</td> </tr> <tr> <td><strong>R√©sultat</strong></td> <td>Archive TAR aplatie</td> </tr> <tr> <td><strong>M√©tadonn√©es</strong></td> <td>Tr√®s limit√©es, perdues lors de l'export</td> </tr> <tr> <td><strong>Couches</strong></td> <td>Une seule couche (aplatissement)</td> </tr> <tr> <td><strong>Historique</strong></td> <td>Compl√®tement perdu</td> </tr> <tr> <td><strong>Taille</strong></td> <td>G√©n√©ralement plus compacte qu'avec <code>save</code></td> </tr> <tr> <td><strong>Vitesse</strong></td> <td>G√©n√©ralement plus rapide en raison du streaming</td> </tr> <tr> <td><strong>Utilisation</strong></td> <td>D√©bogage, snapshots, images de base personnalis√©es</td> </tr> </tbody> </table> <h3 id=modifications-de-metadonnees-avec-docker-import>Modifications de M√©tadonn√©es avec docker import<a class=headerlink href=#modifications-de-metadonnees-avec-docker-import title="Permanent link">&para;</a></h3> <p>Bien que les m√©tadonn√©es soient perdues lors de l'export, la commande <code>import</code> permet d'ajouter certaines m√©tadonn√©es via l'option <code>--change</code> :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1></a><a href=#__codelineno-9-1><span class=linenos data-linenos="1 "></span></a>docker<span class=w> </span>import<span class=w> </span>--change<span class=w> </span><span class=s1>&#39;ENTRYPOINT [&quot;/bin/sh&quot;]&#39;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2></a><a href=#__codelineno-9-2><span class=linenos data-linenos="2 "></span></a><span class=w>              </span>--change<span class=w> </span><span class=s1>&#39;ENV APP_ENV=production&#39;</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3></a><a href=#__codelineno-9-3><span class=linenos data-linenos="3 "></span></a><span class=w>              </span>nginx-custom.tar<span class=w> </span>ma-nginx-modifiee:v1.0
</span></code></pre></div> <p>Les modifications possibles incluent : - <code>ENTRYPOINT</code> : Point d'entr√©e du conteneur - <code>ENV</code> : Variables d'environnement - <code>EXPOSE</code> : Ports expos√©s - <code>WORKDIR</code> : R√©pertoire de travail</p> <h3 id=cas-dusage-recommandes-pour-exportimport>Cas d'Usage Recommand√©s pour Export/Import<a class=headerlink href=#cas-dusage-recommandes-pour-exportimport title="Permanent link">&para;</a></h3> <h4 id=debogage-de-conteneurs>D√©bogage de Conteneurs<a class=headerlink href=#debogage-de-conteneurs title="Permanent link">&para;</a></h4> <p>Lorsqu'un conteneur produit un comportement inattendu, exporter son √©tat permet une inspection d√©taill√©e hors ligne :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1></a><a href=#__codelineno-10-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Conteneur en erreur</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2></a><a href=#__codelineno-10-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span><span class=nb>export</span><span class=w> </span>conteneur-defaillant<span class=w> </span>&gt;<span class=w> </span>debug.tar
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3></a><a href=#__codelineno-10-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4></a><a href=#__codelineno-10-4><span class=linenos data-linenos="4 "></span></a><span class=c1># Inspection hors ligne du syst√®me de fichiers</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5></a><a href=#__codelineno-10-5><span class=linenos data-linenos="5 "></span></a>tar<span class=w> </span>-tf<span class=w> </span>debug.tar<span class=w> </span><span class=p>|</span><span class=w> </span>grep<span class=w> </span>-i<span class=w> </span>erreur
</span></code></pre></div> <h4 id=creation-dimages-de-base-personnalisees>Cr√©ation d'Images de Base Personnalis√©es<a class=headerlink href=#creation-dimages-de-base-personnalisees title="Permanent link">&para;</a></h4> <p>Certains workflows n√©cessitent une image de base avec un syst√®me de fichiers personnalis√©. Un conteneur modifi√© peut √™tre export√© puis import√© en tant qu'image de base :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1></a><a href=#__codelineno-11-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Cr√©er une image de base minimale personnalis√©e</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2></a><a href=#__codelineno-11-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>run<span class=w> </span>-d<span class=w> </span>--name<span class=w> </span>base-system<span class=w> </span>alpine:latest
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3></a><a href=#__codelineno-11-3><span class=linenos data-linenos="3 "></span></a>docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>base-system<span class=w> </span>sh<span class=w> </span>-c<span class=w> </span><span class=s2>&quot;apk add --no-cache git curl&quot;</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4></a><a href=#__codelineno-11-4><span class=linenos data-linenos="4 "></span></a>docker<span class=w> </span><span class=nb>export</span><span class=w> </span>base-system<span class=w> </span>&gt;<span class=w> </span>base-personnalisee.tar
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5></a><a href=#__codelineno-11-5><span class=linenos data-linenos="5 "></span></a>docker<span class=w> </span>import<span class=w> </span>base-personnalisee.tar<span class=w> </span>ma-base:1.0
</span></code></pre></div> <h4 id=archivage-et-backup-de-conteneurs>Archivage et Backup de Conteneurs<a class=headerlink href=#archivage-et-backup-de-conteneurs title="Permanent link">&para;</a></h4> <p>Bien que non recommand√© pour la production, exporter un conteneur permet de cr√©er une sauvegarde brute de son syst√®me de fichiers :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1></a><a href=#__codelineno-12-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Backup de conteneur</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2></a><a href=#__codelineno-12-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span><span class=nb>export</span><span class=w> </span>conteneur-important<span class=w> </span>&gt;<span class=w> </span>backup-<span class=k>$(</span>date<span class=w> </span>+%Y%m%d<span class=k>)</span>.tar
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3></a><a href=#__codelineno-12-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4></a><a href=#__codelineno-12-4><span class=linenos data-linenos="4 "></span></a><span class=c1># Compression pour √©conomiser l&#39;espace</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5></a><a href=#__codelineno-12-5><span class=linenos data-linenos="5 "></span></a>gzip<span class=w> </span>backup-*.tar
</span></code></pre></div> <h3 id=limitations-et-considerations-importantes>Limitations et Consid√©rations Importantes<a class=headerlink href=#limitations-et-considerations-importantes title="Permanent link">&para;</a></h3> <p><strong>Volumes Non Inclus</strong> : Les volumes Docker (nomm√©s ou anonymes) r√©sident en dehors du syst√®me de fichiers racine du conteneur et ne sont donc pas inclus dans l'export.[1] Pour inclure les donn√©es de volumes, il est n√©cessaire de les copier dans le conteneur avant l'export :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1></a><a href=#__codelineno-13-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Copier les donn√©es d&#39;un volume dans le conteneur</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2></a><a href=#__codelineno-13-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>cp<span class=w> </span>ma-donnee:/volume-data<span class=w> </span>/tmp/donnees-locales
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3></a><a href=#__codelineno-13-3><span class=linenos data-linenos="3 "></span></a>docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>-w<span class=w> </span>/tmp<span class=w> </span>mon-conteneur<span class=w> </span>cp<span class=w> </span>-r<span class=w> </span>donnees-locales<span class=w> </span>/conteneur-donnees
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4></a><a href=#__codelineno-13-4><span class=linenos data-linenos="4 "></span></a>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5></a><a href=#__codelineno-13-5><span class=linenos data-linenos="5 "></span></a><span class=c1># Puis exporter</span>
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6></a><a href=#__codelineno-13-6><span class=linenos data-linenos="6 "></span></a>docker<span class=w> </span><span class=nb>export</span><span class=w> </span>mon-conteneur<span class=w> </span>&gt;<span class=w> </span>conteneur-avec-donnees.tar
</span></code></pre></div> <p><strong>Perte de M√©tadonn√©es Importantes</strong> : L'export entra√Æne la perte d√©finitive de l'historique de construction, des labels, des variables d'environnement et des configurations d'ENTRYPOINT/CMD h√©rit√©es de l'image de base. Ceci rend moins √©vidente la provenance et la configuration originale du conteneur.[1]</p> <p><strong>Pertes de Performance</strong> : Bien que rapide en ex√©cution, l'export peut consommer beaucoup de ressources I/O, particuli√®rement pour les conteneurs avec de grands volumes de donn√©es.</p> <hr> <h2 id=les-commandes-save-et-load>üì§ Les Commandes save et load<a class=headerlink href=#les-commandes-save-et-load title="Permanent link">&para;</a></h2> <h3 id=principes-fondamentaux-et-distinction-critique>Principes Fondamentaux et Distinction Critique<a class=headerlink href=#principes-fondamentaux-et-distinction-critique title="Permanent link">&para;</a></h3> <p>Alors que <code>export</code> et <code>import</code> manipulent des conteneurs, <code>save</code> et <code>load</code> op√®rent exclusivement sur les images Docker.[1] Cette distinction fondamentale d√©termine quand et comment utiliser chaque paire de commandes.</p> <p>La commande <code>save</code> enregistre une ou plusieurs images Docker compl√®tes, incluant toutes les couches, les m√©tadonn√©es, l'historique de construction et les balises. L'archive r√©sultante peut √™tre transport√©e et reconstruite pr√©cis√©ment en utilisant <code>load</code>, sans d√©pendre d'un registre distant.[1]</p> <h3 id=fonctionnement-de-docker-save>Fonctionnement de docker save<a class=headerlink href=#fonctionnement-de-docker-save title="Permanent link">&para;</a></h3> <h4 id=definition-et-caracteristiques>D√©finition et Caract√©ristiques<a class=headerlink href=#definition-et-caracteristiques title="Permanent link">&para;</a></h4> <p><code>docker save</code> g√©n√®re une archive TAR contenant une ou plusieurs images Docker. Contrairement √† <code>export</code>, cette commande pr√©serve toute la structure en couches, les m√©tadonn√©es compl√®tes et l'historique de construction. Cette pr√©servation s'av√®re cruciale pour maintenir la fid√©lit√© de l'image et optimiser les futures op√©rations de construction.[1]</p> <h4 id=syntaxe-et-options>Syntaxe et Options<a class=headerlink href=#syntaxe-et-options title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1></a><a href=#__codelineno-14-1><span class=linenos data-linenos="1 "></span></a>docker<span class=w> </span>save<span class=w> </span><span class=o>[</span>OPTIONS<span class=o>]</span><span class=w> </span>IMAGE<span class=w> </span><span class=o>[</span>IMAGE...<span class=o>]</span>
</span></code></pre></div> <p>Options courantes : - <code>-o, --output</code> : √âcrire dans un fichier au lieu de STDOUT - <code>--platform</code> : Sauvegarder uniquement une variante de plateforme sp√©cifique</p> <h4 id=exemples-pratiques-detailles>Exemples Pratiques D√©taill√©s<a class=headerlink href=#exemples-pratiques-detailles title="Permanent link">&para;</a></h4> <p><strong>Exemple 1 : Sauvegarde Simple</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1></a><a href=#__codelineno-15-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Sauvegarder une image unique</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2></a><a href=#__codelineno-15-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>save<span class=w> </span>busybox<span class=w> </span>&gt;<span class=w> </span>busybox.tar
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3></a><a href=#__codelineno-15-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4></a><a href=#__codelineno-15-4><span class=linenos data-linenos="4 "></span></a><span class=c1># V√©rifier la taille</span>
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5></a><a href=#__codelineno-15-5><span class=linenos data-linenos="5 "></span></a>ls<span class=w> </span>-sh<span class=w> </span>busybox.tar
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6></a><a href=#__codelineno-15-6><span class=linenos data-linenos="6 "></span></a><span class=c1># R√©sultat typique : 2.7M busybox.tar</span>
</span></code></pre></div> <p><strong>Exemple 2 : Sauvegarde avec Option --output</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1></a><a href=#__codelineno-16-1><span class=linenos data-linenos="1 "></span></a><span class=c1># √âquivalent √† la redirection STDOUT</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2></a><a href=#__codelineno-16-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>save<span class=w> </span>--output<span class=w> </span>nginx.tar<span class=w> </span>nginx
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3></a><a href=#__codelineno-16-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4></a><a href=#__codelineno-16-4><span class=linenos data-linenos="4 "></span></a><span class=c1># V√©rifier le contenu</span>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5></a><a href=#__codelineno-16-5><span class=linenos data-linenos="5 "></span></a>tar<span class=w> </span>-tf<span class=w> </span>nginx.tar<span class=w> </span><span class=p>|</span><span class=w> </span>head<span class=w> </span>-20
</span></code></pre></div> <p><strong>Exemple 3 : Compression avec gzip</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1></a><a href=#__codelineno-17-1><span class=linenos data-linenos="1 "></span></a><span class=c1># R√©duire la taille de l&#39;archive</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2></a><a href=#__codelineno-17-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>save<span class=w> </span>myimage:latest<span class=w> </span><span class=p>|</span><span class=w> </span>gzip<span class=w> </span>&gt;<span class=w> </span>myimage_latest.tar.gz
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3></a><a href=#__codelineno-17-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4></a><a href=#__codelineno-17-4><span class=linenos data-linenos="4 "></span></a><span class=c1># V√©rifier la r√©duction d&#39;espace</span>
</span><span id=__span-17-5><a id=__codelineno-17-5 name=__codelineno-17-5></a><a href=#__codelineno-17-5><span class=linenos data-linenos="5 "></span></a>ls<span class=w> </span>-lh<span class=w> </span>myimage_latest.tar*
</span></code></pre></div> <p><strong>Exemple 4 : Sauvegarde S√©lective de Tags</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1></a><a href=#__codelineno-18-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Sauvegarder plusieurs tags sp√©cifiques</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2></a><a href=#__codelineno-18-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>save<span class=w> </span>-o<span class=w> </span>ubuntu-multi.tar<span class=w> </span>ubuntu:focal<span class=w> </span>ubuntu:jammy<span class=w> </span>ubuntu:latest
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3></a><a href=#__codelineno-18-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4></a><a href=#__codelineno-18-4><span class=linenos data-linenos="4 "></span></a><span class=c1># Chaque tag est pr√©serv√© avec son historique complet</span>
</span></code></pre></div> <p><strong>Exemple 5 : Sauvegarde pour Plateforme Sp√©cifique</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1></a><a href=#__codelineno-19-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Sauvegarder uniquement la variante ARM64</span>
</span><span id=__span-19-2><a id=__codelineno-19-2 name=__codelineno-19-2></a><a href=#__codelineno-19-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>save<span class=w> </span>--platform<span class=w> </span>linux/arm64<span class=w> </span>alpine:latest<span class=w> </span>&gt;<span class=w> </span>alpine-arm64.tar
</span><span id=__span-19-3><a id=__codelineno-19-3 name=__codelineno-19-3></a><a href=#__codelineno-19-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-19-4><a id=__codelineno-19-4 name=__codelineno-19-4></a><a href=#__codelineno-19-4><span class=linenos data-linenos="4 "></span></a><span class=c1># Sauvegarder pour architecture s390x</span>
</span><span id=__span-19-5><a id=__codelineno-19-5 name=__codelineno-19-5></a><a href=#__codelineno-19-5><span class=linenos data-linenos="5 "></span></a>docker<span class=w> </span>save<span class=w> </span>--platform<span class=w> </span>linux/s390x<span class=w> </span>ubuntu:22.04<span class=w> </span>&gt;<span class=w> </span>ubuntu-s390x.tar
</span></code></pre></div> <h4 id=structure-interne-dune-archive-save>Structure Interne d'une Archive save<a class=headerlink href=#structure-interne-dune-archive-save title="Permanent link">&para;</a></h4> <p>Une archive cr√©√©e par <code>docker save</code> suit une structure sp√©cifique :</p> <div class="language-text highlight"><span class=filename>Text Only</span><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1></a><a href=#__codelineno-20-1><span class=linenos data-linenos="1 "></span></a>archive.tar
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2></a><a href=#__codelineno-20-2><span class=linenos data-linenos="2 "></span></a>‚îú‚îÄ‚îÄ manifest.json          # M√©tadonn√©es d&#39;index
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3></a><a href=#__codelineno-20-3><span class=linenos data-linenos="3 "></span></a>‚îú‚îÄ‚îÄ repositories           # Informations de nommage
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4></a><a href=#__codelineno-20-4><span class=linenos data-linenos="4 "></span></a>‚îú‚îÄ‚îÄ [hash]/                # R√©pertoires de couches
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5></a><a href=#__codelineno-20-5><span class=linenos data-linenos="5 "></span></a>‚îÇ   ‚îú‚îÄ‚îÄ layer.tar          # Donn√©es de couche
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6></a><a href=#__codelineno-20-6><span class=linenos data-linenos="6 "></span></a>‚îÇ   ‚îú‚îÄ‚îÄ json               # M√©tadonn√©es de couche
</span><span id=__span-20-7><a id=__codelineno-20-7 name=__codelineno-20-7></a><a href=#__codelineno-20-7><span class=linenos data-linenos="7 "></span></a>‚îÇ   ‚îî‚îÄ‚îÄ VERSION            # Version du format
</span><span id=__span-20-8><a id=__codelineno-20-8 name=__codelineno-20-8></a><a href=#__codelineno-20-8><span class=linenos data-linenos="8 "></span></a>‚îî‚îÄ‚îÄ ...
</span></code></pre></div> <h3 id=fonctionnement-de-docker-load>Fonctionnement de docker load<a class=headerlink href=#fonctionnement-de-docker-load title="Permanent link">&para;</a></h3> <h4 id=definition-et-utilite_2>D√©finition et Utilit√©<a class=headerlink href=#definition-et-utilite_2 title="Permanent link">&para;</a></h4> <p><code>docker load</code> importe une ou plusieurs images √† partir d'une archive TAR cr√©√©e pr√©c√©demment par <code>docker save</code>. Cette op√©ration reconstruit les images avec toutes leurs couches, leurs m√©tadonn√©es et leurs tags intacts.[1] Aucune connexion r√©seau vers un registre n'est requise.</p> <h4 id=syntaxe-et-utilisation_2>Syntaxe et Utilisation<a class=headerlink href=#syntaxe-et-utilisation_2 title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1></a><a href=#__codelineno-21-1><span class=linenos data-linenos="1 "></span></a>docker<span class=w> </span>load<span class=w> </span><span class=o>[</span>OPTIONS<span class=o>]</span><span class=w> </span>&lt;<span class=w> </span>archive.tar
</span></code></pre></div> <p>ou avec l'option <code>--input</code> :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1></a><a href=#__codelineno-22-1><span class=linenos data-linenos="1 "></span></a>docker<span class=w> </span>load<span class=w> </span>--input<span class=w> </span>archive.tar
</span></code></pre></div> <p>ou avec les options courtes :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1></a><a href=#__codelineno-23-1><span class=linenos data-linenos="1 "></span></a>docker<span class=w> </span>load<span class=w> </span>-i<span class=w> </span>archive.tar
</span></code></pre></div> <h4 id=exemples-pratiques-detailles_1>Exemples Pratiques D√©taill√©s<a class=headerlink href=#exemples-pratiques-detailles_1 title="Permanent link">&para;</a></h4> <p><strong>Exemple 1 : Chargement Simple</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1></a><a href=#__codelineno-24-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Charger une image depuis une archive</span>
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2></a><a href=#__codelineno-24-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>load<span class=w> </span>&lt;<span class=w> </span>busybox.tar
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3></a><a href=#__codelineno-24-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4></a><a href=#__codelineno-24-4><span class=linenos data-linenos="4 "></span></a><span class=c1># R√©sultat attendu :</span>
</span><span id=__span-24-5><a id=__codelineno-24-5 name=__codelineno-24-5></a><a href=#__codelineno-24-5><span class=linenos data-linenos="5 "></span></a><span class=c1># Loaded image: busybox:latest</span>
</span><span id=__span-24-6><a id=__codelineno-24-6 name=__codelineno-24-6></a><a href=#__codelineno-24-6><span class=linenos data-linenos="6 "></span></a>
</span><span id=__span-24-7><a id=__codelineno-24-7 name=__codelineno-24-7></a><a href=#__codelineno-24-7><span class=linenos data-linenos="7 "></span></a><span class=c1># V√©rifier que l&#39;image est disponible</span>
</span><span id=__span-24-8><a id=__codelineno-24-8 name=__codelineno-24-8></a><a href=#__codelineno-24-8><span class=linenos data-linenos="8 "></span></a>docker<span class=w> </span>images<span class=w> </span>busybox
</span></code></pre></div> <p><strong>Exemple 2 : Chargement avec Redirection de Fichier</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1></a><a href=#__codelineno-25-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Alternative avec option explicite</span>
</span><span id=__span-25-2><a id=__codelineno-25-2 name=__codelineno-25-2></a><a href=#__codelineno-25-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>load<span class=w> </span>--input<span class=w> </span>nginx.tar
</span><span id=__span-25-3><a id=__codelineno-25-3 name=__codelineno-25-3></a><a href=#__codelineno-25-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-25-4><a id=__codelineno-25-4 name=__codelineno-25-4></a><a href=#__codelineno-25-4><span class=linenos data-linenos="4 "></span></a><span class=c1># L&#39;image nginx:latest est maintenant disponible localement</span>
</span><span id=__span-25-5><a id=__codelineno-25-5 name=__codelineno-25-5></a><a href=#__codelineno-25-5><span class=linenos data-linenos="5 "></span></a>docker<span class=w> </span>run<span class=w> </span>-d<span class=w> </span>-p<span class=w> </span><span class=m>80</span>:80<span class=w> </span>nginx
</span></code></pre></div> <p><strong>Exemple 3 : Chargement depuis Archive Compress√©e</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1></a><a href=#__codelineno-26-1><span class=linenos data-linenos="1 "></span></a><span class=c1># D√©compresser et charger en une seule commande</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2></a><a href=#__codelineno-26-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>load<span class=w> </span>&lt;<span class=w> </span>myimage_latest.tar.gz
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3></a><a href=#__codelineno-26-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4></a><a href=#__codelineno-26-4><span class=linenos data-linenos="4 "></span></a><span class=c1># Ou utiliser gzip explicitement</span>
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5></a><a href=#__codelineno-26-5><span class=linenos data-linenos="5 "></span></a>gunzip<span class=w> </span>-c<span class=w> </span>myimage_latest.tar.gz<span class=w> </span><span class=p>|</span><span class=w> </span>docker<span class=w> </span>load
</span></code></pre></div> <p><strong>Exemple 4 : Chargement d'Images Multiples</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1></a><a href=#__codelineno-27-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1># L&#39;archive contient plusieurs images (plusieurs tags)</span>
</span><span id=__span-27-2><a id=__codelineno-27-2 name=__codelineno-27-2></a><a href=#__codelineno-27-2><span class=linenos data-linenos=" 2 "></span></a>docker<span class=w> </span>load<span class=w> </span>&lt;<span class=w> </span>ubuntu-multi.tar
</span><span id=__span-27-3><a id=__codelineno-27-3 name=__codelineno-27-3></a><a href=#__codelineno-27-3><span class=linenos data-linenos=" 3 "></span></a>
</span><span id=__span-27-4><a id=__codelineno-27-4 name=__codelineno-27-4></a><a href=#__codelineno-27-4><span class=linenos data-linenos=" 4 "></span></a><span class=c1># R√©sultat :</span>
</span><span id=__span-27-5><a id=__codelineno-27-5 name=__codelineno-27-5></a><a href=#__codelineno-27-5><span class=linenos data-linenos=" 5 "></span></a><span class=c1># Loaded image: ubuntu:focal</span>
</span><span id=__span-27-6><a id=__codelineno-27-6 name=__codelineno-27-6></a><a href=#__codelineno-27-6><span class=linenos data-linenos=" 6 "></span></a><span class=c1># Loaded image: ubuntu:jammy</span>
</span><span id=__span-27-7><a id=__codelineno-27-7 name=__codelineno-27-7></a><a href=#__codelineno-27-7><span class=linenos data-linenos=" 7 "></span></a><span class=c1># Loaded image: ubuntu:latest</span>
</span><span id=__span-27-8><a id=__codelineno-27-8 name=__codelineno-27-8></a><a href=#__codelineno-27-8><span class=linenos data-linenos=" 8 "></span></a>
</span><span id=__span-27-9><a id=__codelineno-27-9 name=__codelineno-27-9></a><a href=#__codelineno-27-9><span class=linenos data-linenos=" 9 "></span></a><span class=c1># V√©rifier tous les tags charg√©s</span>
</span><span id=__span-27-10><a id=__codelineno-27-10 name=__codelineno-27-10></a><a href=#__codelineno-27-10><span class=linenos data-linenos="10 "></span></a>docker<span class=w> </span>images<span class=w> </span>ubuntu
</span></code></pre></div> <p><strong>Exemple 5 : Affichage D√©taill√© du Chargement</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1></a><a href=#__codelineno-28-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Afficher les d√©tails de chaque couche en cours de chargement</span>
</span><span id=__span-28-2><a id=__codelineno-28-2 name=__codelineno-28-2></a><a href=#__codelineno-28-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>load<span class=w> </span>--input<span class=w> </span>archive.tar<span class=w> </span><span class=m>2</span>&gt;<span class=p>&amp;</span><span class=m>1</span><span class=w> </span><span class=p>|</span><span class=w> </span>tee<span class=w> </span>load-output.log
</span><span id=__span-28-3><a id=__codelineno-28-3 name=__codelineno-28-3></a><a href=#__codelineno-28-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-28-4><a id=__codelineno-28-4 name=__codelineno-28-4></a><a href=#__codelineno-28-4><span class=linenos data-linenos="4 "></span></a><span class=c1># Inspecter le journal pour d√©boguer les probl√®mes</span>
</span><span id=__span-28-5><a id=__codelineno-28-5 name=__codelineno-28-5></a><a href=#__codelineno-28-5><span class=linenos data-linenos="5 "></span></a>cat<span class=w> </span>load-output.log
</span></code></pre></div> <h3 id=comparaison-detaillee-saveload-vs-exportimport>Comparaison D√©taill√©e : save/load vs export/import<a class=headerlink href=#comparaison-detaillee-saveload-vs-exportimport title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Crit√®re</th> <th>docker save/load</th> <th>docker export/import</th> </tr> </thead> <tbody> <tr> <td><strong>Cible</strong></td> <td>Images Docker</td> <td>Conteneurs Docker</td> </tr> <tr> <td><strong>Pr√©servation des Couches</strong></td> <td>‚úÖ Toutes les couches</td> <td>‚ùå Aplatie en une seule</td> </tr> <tr> <td><strong>Historique</strong></td> <td>‚úÖ Pr√©serv√© compl√®tement</td> <td>‚ùå Perdu</td> </tr> <tr> <td><strong>M√©tadonn√©es</strong></td> <td>‚úÖ CMD, ENTRYPOINT, ENV, labels, ports</td> <td>‚ö†Ô∏è Partiellement, via --change</td> </tr> <tr> <td><strong>Taille de l'Archive</strong></td> <td>‚úÖ Plus grande mais compressible</td> <td>‚úÖ G√©n√©ralement plus compacte</td> </tr> <tr> <td><strong>Vitesse d'Export</strong></td> <td>‚è±Ô∏è Plus lent en raison de la complexit√©</td> <td>‚è±Ô∏è G√©n√©ralement plus rapide</td> </tr> <tr> <td><strong>Fid√©lit√©</strong></td> <td>‚úÖ Copie exacte et tra√ßable</td> <td>‚ùå Perte significative de contexte</td> </tr> <tr> <td><strong>Cas d'Usage Id√©al</strong></td> <td>Partage, cache, builds reproductibles</td> <td>D√©bogage, snapshots temporaires</td> </tr> <tr> <td><strong>Inclusion de Volumes</strong></td> <td>‚ùå Non inclus</td> <td>‚ùå Non inclus</td> </tr> <tr> <td><strong>Int√©grit√© de Signature</strong></td> <td>‚úÖ Peut √™tre v√©rifi√©e</td> <td>‚ùå Non applicable</td> </tr> </tbody> </table> <h3 id=cas-dusage-recommandes-pour-saveload>Cas d'Usage Recommand√©s pour save/load<a class=headerlink href=#cas-dusage-recommandes-pour-saveload title="Permanent link">&para;</a></h3> <h4 id=1-transfert-dimages-entre-systemes-isoles>1. Transfert d'Images Entre Syst√®mes Isol√©s<a class=headerlink href=#1-transfert-dimages-entre-systemes-isoles title="Permanent link">&para;</a></h4> <p>Dans les environnements sans acc√®s √† Internet ou sans registre priv√© disponible, <code>save</code> et <code>load</code> permettent le transfert s√©curis√© d'images :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1></a><a href=#__codelineno-29-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1># Sur la machine source (avec Internet)</span>
</span><span id=__span-29-2><a id=__codelineno-29-2 name=__codelineno-29-2></a><a href=#__codelineno-29-2><span class=linenos data-linenos=" 2 "></span></a>docker<span class=w> </span>save<span class=w> </span>myapp:1.0<span class=w> </span><span class=p>|</span><span class=w> </span>gzip<span class=w> </span>&gt;<span class=w> </span>myapp-1.0.tar.gz
</span><span id=__span-29-3><a id=__codelineno-29-3 name=__codelineno-29-3></a><a href=#__codelineno-29-3><span class=linenos data-linenos=" 3 "></span></a>
</span><span id=__span-29-4><a id=__codelineno-29-4 name=__codelineno-29-4></a><a href=#__codelineno-29-4><span class=linenos data-linenos=" 4 "></span></a><span class=c1># Transf√©rer le fichier (USB, SCP, email, etc.)</span>
</span><span id=__span-29-5><a id=__codelineno-29-5 name=__codelineno-29-5></a><a href=#__codelineno-29-5><span class=linenos data-linenos=" 5 "></span></a>scp<span class=w> </span>myapp-1.0.tar.gz<span class=w> </span>user@machine-isolee:/tmp/
</span><span id=__span-29-6><a id=__codelineno-29-6 name=__codelineno-29-6></a><a href=#__codelineno-29-6><span class=linenos data-linenos=" 6 "></span></a>
</span><span id=__span-29-7><a id=__codelineno-29-7 name=__codelineno-29-7></a><a href=#__codelineno-29-7><span class=linenos data-linenos=" 7 "></span></a><span class=c1># Sur la machine cible (isol√©e)</span>
</span><span id=__span-29-8><a id=__codelineno-29-8 name=__codelineno-29-8></a><a href=#__codelineno-29-8><span class=linenos data-linenos=" 8 "></span></a>docker<span class=w> </span>load<span class=w> </span>&lt;<span class=w> </span>/tmp/myapp-1.0.tar.gz
</span><span id=__span-29-9><a id=__codelineno-29-9 name=__codelineno-29-9></a><a href=#__codelineno-29-9><span class=linenos data-linenos=" 9 "></span></a>
</span><span id=__span-29-10><a id=__codelineno-29-10 name=__codelineno-29-10></a><a href=#__codelineno-29-10><span class=linenos data-linenos="10 "></span></a><span class=c1># V√©rifier et lancer</span>
</span><span id=__span-29-11><a id=__codelineno-29-11 name=__codelineno-29-11></a><a href=#__codelineno-29-11><span class=linenos data-linenos="11 "></span></a>docker<span class=w> </span>images<span class=w> </span>myapp
</span><span id=__span-29-12><a id=__codelineno-29-12 name=__codelineno-29-12></a><a href=#__codelineno-29-12><span class=linenos data-linenos="12 "></span></a>docker<span class=w> </span>run<span class=w> </span>-d<span class=w> </span>myapp:1.0
</span></code></pre></div> <h4 id=2-caching-de-layers-pour-cicd>2. Caching de Layers pour CI/CD<a class=headerlink href=#2-caching-de-layers-pour-cicd title="Permanent link">&para;</a></h4> <p>Dans les pipelines d'int√©gration continue, les couches pr√©c√©demment construites peuvent √™tre sauvegard√©es et recharg√©es pour acc√©l√©rer les constructions futures :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1></a><a href=#__codelineno-30-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1># Pipeline √©tape 1 : Construire et sauvegarder</span>
</span><span id=__span-30-2><a id=__codelineno-30-2 name=__codelineno-30-2></a><a href=#__codelineno-30-2><span class=linenos data-linenos=" 2 "></span></a>docker<span class=w> </span>build<span class=w> </span>-t<span class=w> </span>mon-app:latest<span class=w> </span>.
</span><span id=__span-30-3><a id=__codelineno-30-3 name=__codelineno-30-3></a><a href=#__codelineno-30-3><span class=linenos data-linenos=" 3 "></span></a>docker<span class=w> </span>save<span class=w> </span>mon-app:latest<span class=w> </span>&gt;<span class=w> </span>cache.tar
</span><span id=__span-30-4><a id=__codelineno-30-4 name=__codelineno-30-4></a><a href=#__codelineno-30-4><span class=linenos data-linenos=" 4 "></span></a>
</span><span id=__span-30-5><a id=__codelineno-30-5 name=__codelineno-30-5></a><a href=#__codelineno-30-5><span class=linenos data-linenos=" 5 "></span></a><span class=c1># Stocker cache.tar dans l&#39;artefact de CI</span>
</span><span id=__span-30-6><a id=__codelineno-30-6 name=__codelineno-30-6></a><a href=#__codelineno-30-6><span class=linenos data-linenos=" 6 "></span></a>
</span><span id=__span-30-7><a id=__codelineno-30-7 name=__codelineno-30-7></a><a href=#__codelineno-30-7><span class=linenos data-linenos=" 7 "></span></a><span class=c1># Pipeline √©tape 2 : Charger le cache et construire √† partir de celui-ci</span>
</span><span id=__span-30-8><a id=__codelineno-30-8 name=__codelineno-30-8></a><a href=#__codelineno-30-8><span class=linenos data-linenos=" 8 "></span></a>docker<span class=w> </span>load<span class=w> </span>&lt;<span class=w> </span>cache.tar
</span><span id=__span-30-9><a id=__codelineno-30-9 name=__codelineno-30-9></a><a href=#__codelineno-30-9><span class=linenos data-linenos=" 9 "></span></a>
</span><span id=__span-30-10><a id=__codelineno-30-10 name=__codelineno-30-10></a><a href=#__codelineno-30-10><span class=linenos data-linenos="10 "></span></a><span class=c1># Les couches sont maintenant en cache local</span>
</span><span id=__span-30-11><a id=__codelineno-30-11 name=__codelineno-30-11></a><a href=#__codelineno-30-11><span class=linenos data-linenos="11 "></span></a>docker<span class=w> </span>build<span class=w> </span>-t<span class=w> </span>mon-app:latest<span class=w> </span>--cache-from<span class=w> </span>mon-app:latest<span class=w> </span>.
</span></code></pre></div> <h4 id=3-archivage-a-long-terme>3. Archivage √† Long Terme<a class=headerlink href=#3-archivage-a-long-terme title="Permanent link">&para;</a></h4> <p>Pour les images critiques, <code>save</code> cr√©e des archives archivables :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1></a><a href=#__codelineno-31-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1># Cr√©er une archive dat√©e avec m√©tadonn√©es</span>
</span><span id=__span-31-2><a id=__codelineno-31-2 name=__codelineno-31-2></a><a href=#__codelineno-31-2><span class=linenos data-linenos=" 2 "></span></a><span class=nv>ARCHIVE_DATE</span><span class=o>=</span><span class=k>$(</span>date<span class=w> </span>+%Y%m%d_%H%M%S<span class=k>)</span>
</span><span id=__span-31-3><a id=__codelineno-31-3 name=__codelineno-31-3></a><a href=#__codelineno-31-3><span class=linenos data-linenos=" 3 "></span></a>docker<span class=w> </span>save<span class=w> </span>critical-app:v1.0<span class=w> </span><span class=p>|</span><span class=w> </span>gzip<span class=w> </span>&gt;<span class=w> </span>critical-app-v1.0_<span class=si>${</span><span class=nv>ARCHIVE_DATE</span><span class=si>}</span>.tar.gz
</span><span id=__span-31-4><a id=__codelineno-31-4 name=__codelineno-31-4></a><a href=#__codelineno-31-4><span class=linenos data-linenos=" 4 "></span></a>
</span><span id=__span-31-5><a id=__codelineno-31-5 name=__codelineno-31-5></a><a href=#__codelineno-31-5><span class=linenos data-linenos=" 5 "></span></a><span class=c1># Stocker le fichier en s√©curit√©</span>
</span><span id=__span-31-6><a id=__codelineno-31-6 name=__codelineno-31-6></a><a href=#__codelineno-31-6><span class=linenos data-linenos=" 6 "></span></a>mv<span class=w> </span>critical-app-*.tar.gz<span class=w> </span>/mnt/archive/docker-images/
</span><span id=__span-31-7><a id=__codelineno-31-7 name=__codelineno-31-7></a><a href=#__codelineno-31-7><span class=linenos data-linenos=" 7 "></span></a>
</span><span id=__span-31-8><a id=__codelineno-31-8 name=__codelineno-31-8></a><a href=#__codelineno-31-8><span class=linenos data-linenos=" 8 "></span></a><span class=c1># Cr√©er un fichier manifest pour tra√ßabilit√©</span>
</span><span id=__span-31-9><a id=__codelineno-31-9 name=__codelineno-31-9></a><a href=#__codelineno-31-9><span class=linenos data-linenos=" 9 "></span></a><span class=nb>echo</span><span class=w> </span><span class=s2>&quot;Image: critical-app:v1.0&quot;</span><span class=w> </span>&gt;<span class=w> </span>/mnt/archive/docker-images/critical-app-v1.0_manifest.txt
</span><span id=__span-31-10><a id=__codelineno-31-10 name=__codelineno-31-10></a><a href=#__codelineno-31-10><span class=linenos data-linenos="10 "></span></a>docker<span class=w> </span>inspect<span class=w> </span>critical-app:v1.0<span class=w> </span>&gt;&gt;<span class=w> </span>/mnt/archive/docker-images/critical-app-v1.0_manifest.txt
</span></code></pre></div> <h4 id=4-distribution-dimages-hors-reseau>4. Distribution d'Images Hors R√©seau<a class=headerlink href=#4-distribution-dimages-hors-reseau title="Permanent link">&para;</a></h4> <p>Les √©quipes distribuant des images √† des clients sans connexion r√©seau utilisent couramment cette approche :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1></a><a href=#__codelineno-32-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1># Pr√©parer un bundle d&#39;images</span>
</span><span id=__span-32-2><a id=__codelineno-32-2 name=__codelineno-32-2></a><a href=#__codelineno-32-2><span class=linenos data-linenos=" 2 "></span></a>docker<span class=w> </span>save<span class=w> </span><span class=se>\</span>
</span><span id=__span-32-3><a id=__codelineno-32-3 name=__codelineno-32-3></a><a href=#__codelineno-32-3><span class=linenos data-linenos=" 3 "></span></a><span class=w>  </span>appbase:1.0<span class=w> </span><span class=se>\</span>
</span><span id=__span-32-4><a id=__codelineno-32-4 name=__codelineno-32-4></a><a href=#__codelineno-32-4><span class=linenos data-linenos=" 4 "></span></a><span class=w>  </span>app-frontend:1.0<span class=w> </span><span class=se>\</span>
</span><span id=__span-32-5><a id=__codelineno-32-5 name=__codelineno-32-5></a><a href=#__codelineno-32-5><span class=linenos data-linenos=" 5 "></span></a><span class=w>  </span>app-backend:1.0<span class=w> </span><span class=se>\</span>
</span><span id=__span-32-6><a id=__codelineno-32-6 name=__codelineno-32-6></a><a href=#__codelineno-32-6><span class=linenos data-linenos=" 6 "></span></a><span class=w>  </span>app-database:1.0<span class=w> </span><span class=p>|</span><span class=w> </span>gzip<span class=w> </span>&gt;<span class=w> </span>app-bundle-v1.0.tar.gz
</span><span id=__span-32-7><a id=__codelineno-32-7 name=__codelineno-32-7></a><a href=#__codelineno-32-7><span class=linenos data-linenos=" 7 "></span></a>
</span><span id=__span-32-8><a id=__codelineno-32-8 name=__codelineno-32-8></a><a href=#__codelineno-32-8><span class=linenos data-linenos=" 8 "></span></a><span class=c1># Le client re√ßoit un seul fichier facilement transportable</span>
</span><span id=__span-32-9><a id=__codelineno-32-9 name=__codelineno-32-9></a><a href=#__codelineno-32-9><span class=linenos data-linenos=" 9 "></span></a>ls<span class=w> </span>-lh<span class=w> </span>app-bundle-v1.0.tar.gz
</span><span id=__span-32-10><a id=__codelineno-32-10 name=__codelineno-32-10></a><a href=#__codelineno-32-10><span class=linenos data-linenos="10 "></span></a><span class=c1># -rw-r--r-- 1 user user 256M app-bundle-v1.0.tar.gz</span>
</span><span id=__span-32-11><a id=__codelineno-32-11 name=__codelineno-32-11></a><a href=#__codelineno-32-11><span class=linenos data-linenos="11 "></span></a>
</span><span id=__span-32-12><a id=__codelineno-32-12 name=__codelineno-32-12></a><a href=#__codelineno-32-12><span class=linenos data-linenos="12 "></span></a><span class=c1># Installation chez le client</span>
</span><span id=__span-32-13><a id=__codelineno-32-13 name=__codelineno-32-13></a><a href=#__codelineno-32-13><span class=linenos data-linenos="13 "></span></a>docker<span class=w> </span>load<span class=w> </span>&lt;<span class=w> </span>app-bundle-v1.0.tar.gz
</span><span id=__span-32-14><a id=__codelineno-32-14 name=__codelineno-32-14></a><a href=#__codelineno-32-14><span class=linenos data-linenos="14 "></span></a>
</span><span id=__span-32-15><a id=__codelineno-32-15 name=__codelineno-32-15></a><a href=#__codelineno-32-15><span class=linenos data-linenos="15 "></span></a><span class=c1># Tous les composants sont disponibles</span>
</span><span id=__span-32-16><a id=__codelineno-32-16 name=__codelineno-32-16></a><a href=#__codelineno-32-16><span class=linenos data-linenos="16 "></span></a>docker<span class=w> </span>images<span class=w> </span>app-*
</span></code></pre></div> <h4 id=5-builds-reproductibles-et-deterministes>5. Builds Reproductibles et D√©terministes<a class=headerlink href=#5-builds-reproductibles-et-deterministes title="Permanent link">&para;</a></h4> <p>Les projets n√©cessitant une reproductibilit√© absolue (compliance, audit) utilisent <code>save</code> pour garantir que les builds futurs utilisent exactement les m√™mes couches :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-33-1><a id=__codelineno-33-1 name=__codelineno-33-1></a><a href=#__codelineno-33-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1># Build v1.0</span>
</span><span id=__span-33-2><a id=__codelineno-33-2 name=__codelineno-33-2></a><a href=#__codelineno-33-2><span class=linenos data-linenos=" 2 "></span></a>docker<span class=w> </span>build<span class=w> </span>-t<span class=w> </span>myapp:v1.0<span class=w> </span>.
</span><span id=__span-33-3><a id=__codelineno-33-3 name=__codelineno-33-3></a><a href=#__codelineno-33-3><span class=linenos data-linenos=" 3 "></span></a>docker<span class=w> </span>save<span class=w> </span>myapp:v1.0<span class=w> </span>&gt;<span class=w> </span>v1.0-exact.tar
</span><span id=__span-33-4><a id=__codelineno-33-4 name=__codelineno-33-4></a><a href=#__codelineno-33-4><span class=linenos data-linenos=" 4 "></span></a>
</span><span id=__span-33-5><a id=__codelineno-33-5 name=__codelineno-33-5></a><a href=#__codelineno-33-5><span class=linenos data-linenos=" 5 "></span></a><span class=c1># Ann√©es plus tard, d√©pendances disparus du registre</span>
</span><span id=__span-33-6><a id=__codelineno-33-6 name=__codelineno-33-6></a><a href=#__codelineno-33-6><span class=linenos data-linenos=" 6 "></span></a><span class=c1># Mais la reconstruction exacte reste possible</span>
</span><span id=__span-33-7><a id=__codelineno-33-7 name=__codelineno-33-7></a><a href=#__codelineno-33-7><span class=linenos data-linenos=" 7 "></span></a>docker<span class=w> </span>load<span class=w> </span>&lt;<span class=w> </span>v1.0-exact.tar
</span><span id=__span-33-8><a id=__codelineno-33-8 name=__codelineno-33-8></a><a href=#__codelineno-33-8><span class=linenos data-linenos=" 8 "></span></a>
</span><span id=__span-33-9><a id=__codelineno-33-9 name=__codelineno-33-9></a><a href=#__codelineno-33-9><span class=linenos data-linenos=" 9 "></span></a><span class=c1># V√©rifier l&#39;int√©grit√© du hash</span>
</span><span id=__span-33-10><a id=__codelineno-33-10 name=__codelineno-33-10></a><a href=#__codelineno-33-10><span class=linenos data-linenos="10 "></span></a>docker<span class=w> </span>inspect<span class=w> </span>myapp:v1.0<span class=w> </span>--format<span class=o>=</span><span class=s1>&#39;{{.Id}}&#39;</span>
</span></code></pre></div> <h3 id=optimisation-des-performances-pour-saveload>Optimisation des Performances pour save/load<a class=headerlink href=#optimisation-des-performances-pour-saveload title="Permanent link">&para;</a></h3> <h4 id=compression-efficace>Compression Efficace<a class=headerlink href=#compression-efficace title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-34-1><a id=__codelineno-34-1 name=__codelineno-34-1></a><a href=#__codelineno-34-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1># gzip : Compression standard</span>
</span><span id=__span-34-2><a id=__codelineno-34-2 name=__codelineno-34-2></a><a href=#__codelineno-34-2><span class=linenos data-linenos=" 2 "></span></a>docker<span class=w> </span>save<span class=w> </span>myimage:latest<span class=w> </span><span class=p>|</span><span class=w> </span>gzip<span class=w> </span>-9<span class=w> </span>&gt;<span class=w> </span>image.tar.gz
</span><span id=__span-34-3><a id=__codelineno-34-3 name=__codelineno-34-3></a><a href=#__codelineno-34-3><span class=linenos data-linenos=" 3 "></span></a>
</span><span id=__span-34-4><a id=__codelineno-34-4 name=__codelineno-34-4></a><a href=#__codelineno-34-4><span class=linenos data-linenos=" 4 "></span></a><span class=c1># pigz : Gzip parall√©lis√© (plus rapide)</span>
</span><span id=__span-34-5><a id=__codelineno-34-5 name=__codelineno-34-5></a><a href=#__codelineno-34-5><span class=linenos data-linenos=" 5 "></span></a>docker<span class=w> </span>save<span class=w> </span>myimage:latest<span class=w> </span><span class=p>|</span><span class=w> </span>pigz<span class=w> </span>-9<span class=w> </span>&gt;<span class=w> </span>image.tar.gz
</span><span id=__span-34-6><a id=__codelineno-34-6 name=__codelineno-34-6></a><a href=#__codelineno-34-6><span class=linenos data-linenos=" 6 "></span></a>
</span><span id=__span-34-7><a id=__codelineno-34-7 name=__codelineno-34-7></a><a href=#__codelineno-34-7><span class=linenos data-linenos=" 7 "></span></a><span class=c1># bzip2 : Compression plus efficace mais plus lent</span>
</span><span id=__span-34-8><a id=__codelineno-34-8 name=__codelineno-34-8></a><a href=#__codelineno-34-8><span class=linenos data-linenos=" 8 "></span></a>docker<span class=w> </span>save<span class=w> </span>myimage:latest<span class=w> </span><span class=p>|</span><span class=w> </span>bzip2<span class=w> </span>-9<span class=w> </span>&gt;<span class=w> </span>image.tar.bz2
</span><span id=__span-34-9><a id=__codelineno-34-9 name=__codelineno-34-9></a><a href=#__codelineno-34-9><span class=linenos data-linenos=" 9 "></span></a>
</span><span id=__span-34-10><a id=__codelineno-34-10 name=__codelineno-34-10></a><a href=#__codelineno-34-10><span class=linenos data-linenos="10 "></span></a><span class=c1># Comparaison de tailles</span>
</span><span id=__span-34-11><a id=__codelineno-34-11 name=__codelineno-34-11></a><a href=#__codelineno-34-11><span class=linenos data-linenos="11 "></span></a>ls<span class=w> </span>-lh<span class=w> </span>image.tar*
</span></code></pre></div> <h4 id=gestion-darchives-de-grande-taille>Gestion d'Archives de Grande Taille<a class=headerlink href=#gestion-darchives-de-grande-taille title="Permanent link">&para;</a></h4> <p>Pour les images d√©passant plusieurs gigaoctets, des strat√©gies de division s'appliquent :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-35-1><a id=__codelineno-35-1 name=__codelineno-35-1></a><a href=#__codelineno-35-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1># Sauvegarder une grande image</span>
</span><span id=__span-35-2><a id=__codelineno-35-2 name=__codelineno-35-2></a><a href=#__codelineno-35-2><span class=linenos data-linenos=" 2 "></span></a>docker<span class=w> </span>save<span class=w> </span>huge-app:latest<span class=w> </span>&gt;<span class=w> </span>huge-app.tar
</span><span id=__span-35-3><a id=__codelineno-35-3 name=__codelineno-35-3></a><a href=#__codelineno-35-3><span class=linenos data-linenos=" 3 "></span></a>
</span><span id=__span-35-4><a id=__codelineno-35-4 name=__codelineno-35-4></a><a href=#__codelineno-35-4><span class=linenos data-linenos=" 4 "></span></a><span class=c1># Diviser en fichiers de 2GB</span>
</span><span id=__span-35-5><a id=__codelineno-35-5 name=__codelineno-35-5></a><a href=#__codelineno-35-5><span class=linenos data-linenos=" 5 "></span></a>split<span class=w> </span>-b<span class=w> </span>2G<span class=w> </span>huge-app.tar<span class=w> </span>huge-app-part_
</span><span id=__span-35-6><a id=__codelineno-35-6 name=__codelineno-35-6></a><a href=#__codelineno-35-6><span class=linenos data-linenos=" 6 "></span></a>
</span><span id=__span-35-7><a id=__codelineno-35-7 name=__codelineno-35-7></a><a href=#__codelineno-35-7><span class=linenos data-linenos=" 7 "></span></a><span class=c1># Transf√©rer les parties individuellement</span>
</span><span id=__span-35-8><a id=__codelineno-35-8 name=__codelineno-35-8></a><a href=#__codelineno-35-8><span class=linenos data-linenos=" 8 "></span></a><span class=c1># ...</span>
</span><span id=__span-35-9><a id=__codelineno-35-9 name=__codelineno-35-9></a><a href=#__codelineno-35-9><span class=linenos data-linenos=" 9 "></span></a>
</span><span id=__span-35-10><a id=__codelineno-35-10 name=__codelineno-35-10></a><a href=#__codelineno-35-10><span class=linenos data-linenos="10 "></span></a><span class=c1># R√©assembler sur la machine cible</span>
</span><span id=__span-35-11><a id=__codelineno-35-11 name=__codelineno-35-11></a><a href=#__codelineno-35-11><span class=linenos data-linenos="11 "></span></a>cat<span class=w> </span>huge-app-part_*<span class=w> </span>&gt;<span class=w> </span>huge-app.tar
</span><span id=__span-35-12><a id=__codelineno-35-12 name=__codelineno-35-12></a><a href=#__codelineno-35-12><span class=linenos data-linenos="12 "></span></a>
</span><span id=__span-35-13><a id=__codelineno-35-13 name=__codelineno-35-13></a><a href=#__codelineno-35-13><span class=linenos data-linenos="13 "></span></a><span class=c1># Charger normalement</span>
</span><span id=__span-35-14><a id=__codelineno-35-14 name=__codelineno-35-14></a><a href=#__codelineno-35-14><span class=linenos data-linenos="14 "></span></a>docker<span class=w> </span>load<span class=w> </span>&lt;<span class=w> </span>huge-app.tar
</span></code></pre></div> <h4 id=utilisation-de-buildkit-cache-exporters-approche-moderne>Utilisation de BuildKit Cache Exporters (Approche Moderne)<a class=headerlink href=#utilisation-de-buildkit-cache-exporters-approche-moderne title="Permanent link">&para;</a></h4> <p>Docker BuildKit offre une alternative plus performante aux simples commandes <code>save</code>/<code>load</code> :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-36-1><a id=__codelineno-36-1 name=__codelineno-36-1></a><a href=#__codelineno-36-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1># Exporter le cache de build localement</span>
</span><span id=__span-36-2><a id=__codelineno-36-2 name=__codelineno-36-2></a><a href=#__codelineno-36-2><span class=linenos data-linenos=" 2 "></span></a>docker<span class=w> </span>buildx<span class=w> </span>build<span class=w> </span><span class=se>\</span>
</span><span id=__span-36-3><a id=__codelineno-36-3 name=__codelineno-36-3></a><a href=#__codelineno-36-3><span class=linenos data-linenos=" 3 "></span></a><span class=w>  </span>--cache-to<span class=w> </span><span class=nv>type</span><span class=o>=</span>local,dest<span class=o>=</span>/tmp/buildkit-cache<span class=w> </span><span class=se>\</span>
</span><span id=__span-36-4><a id=__codelineno-36-4 name=__codelineno-36-4></a><a href=#__codelineno-36-4><span class=linenos data-linenos=" 4 "></span></a><span class=w>  </span>--output<span class=w> </span><span class=nv>type</span><span class=o>=</span>image,push<span class=o>=</span><span class=nb>false</span><span class=w> </span><span class=se>\</span>
</span><span id=__span-36-5><a id=__codelineno-36-5 name=__codelineno-36-5></a><a href=#__codelineno-36-5><span class=linenos data-linenos=" 5 "></span></a><span class=w>  </span>-t<span class=w> </span>myapp:latest<span class=w> </span>.
</span><span id=__span-36-6><a id=__codelineno-36-6 name=__codelineno-36-6></a><a href=#__codelineno-36-6><span class=linenos data-linenos=" 6 "></span></a>
</span><span id=__span-36-7><a id=__codelineno-36-7 name=__codelineno-36-7></a><a href=#__codelineno-36-7><span class=linenos data-linenos=" 7 "></span></a><span class=c1># Importer le cache pour les builds suivants</span>
</span><span id=__span-36-8><a id=__codelineno-36-8 name=__codelineno-36-8></a><a href=#__codelineno-36-8><span class=linenos data-linenos=" 8 "></span></a>docker<span class=w> </span>buildx<span class=w> </span>build<span class=w> </span><span class=se>\</span>
</span><span id=__span-36-9><a id=__codelineno-36-9 name=__codelineno-36-9></a><a href=#__codelineno-36-9><span class=linenos data-linenos=" 9 "></span></a><span class=w>  </span>--cache-from<span class=w> </span><span class=nv>type</span><span class=o>=</span>local,src<span class=o>=</span>/tmp/buildkit-cache<span class=w> </span><span class=se>\</span>
</span><span id=__span-36-10><a id=__codelineno-36-10 name=__codelineno-36-10></a><a href=#__codelineno-36-10><span class=linenos data-linenos="10 "></span></a><span class=w>  </span>-t<span class=w> </span>myapp:latest<span class=w> </span>.
</span></code></pre></div> <h3 id=considerations-de-securite>Consid√©rations de S√©curit√©<a class=headerlink href=#considerations-de-securite title="Permanent link">&para;</a></h3> <h4 id=integrite-des-archives>Int√©grit√© des Archives<a class=headerlink href=#integrite-des-archives title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-37-1><a id=__codelineno-37-1 name=__codelineno-37-1></a><a href=#__codelineno-37-1><span class=linenos data-linenos="1 "></span></a><span class=c1># G√©n√©rer un hash pour v√©rifier l&#39;int√©grit√©</span>
</span><span id=__span-37-2><a id=__codelineno-37-2 name=__codelineno-37-2></a><a href=#__codelineno-37-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>save<span class=w> </span>myimage:latest<span class=w> </span><span class=p>|</span><span class=w> </span>tee<span class=w> </span>myimage.tar<span class=w> </span><span class=p>|</span><span class=w> </span>sha256sum<span class=w> </span>&gt;<span class=w> </span>myimage.tar.sha256
</span><span id=__span-37-3><a id=__codelineno-37-3 name=__codelineno-37-3></a><a href=#__codelineno-37-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-37-4><a id=__codelineno-37-4 name=__codelineno-37-4></a><a href=#__codelineno-37-4><span class=linenos data-linenos="4 "></span></a><span class=c1># V√©rifier l&#39;int√©grit√© apr√®s transfert</span>
</span><span id=__span-37-5><a id=__codelineno-37-5 name=__codelineno-37-5></a><a href=#__codelineno-37-5><span class=linenos data-linenos="5 "></span></a>sha256sum<span class=w> </span>-c<span class=w> </span>myimage.tar.sha256
</span></code></pre></div> <h4 id=chiffrement-des-archives>Chiffrement des Archives<a class=headerlink href=#chiffrement-des-archives title="Permanent link">&para;</a></h4> <p>Pour les environnements sensibles, chiffrer les archives avant transfert :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-38-1><a id=__codelineno-38-1 name=__codelineno-38-1></a><a href=#__codelineno-38-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Chiffrer avec gpg</span>
</span><span id=__span-38-2><a id=__codelineno-38-2 name=__codelineno-38-2></a><a href=#__codelineno-38-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>save<span class=w> </span>myimage:latest<span class=w> </span><span class=p>|</span><span class=w> </span>gzip<span class=w> </span><span class=p>|</span><span class=w> </span>gpg<span class=w> </span>--symmetric<span class=w> </span>&gt;<span class=w> </span>image.tar.gz.gpg
</span><span id=__span-38-3><a id=__codelineno-38-3 name=__codelineno-38-3></a><a href=#__codelineno-38-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-38-4><a id=__codelineno-38-4 name=__codelineno-38-4></a><a href=#__codelineno-38-4><span class=linenos data-linenos="4 "></span></a><span class=c1># D√©chiffrer et charger</span>
</span><span id=__span-38-5><a id=__codelineno-38-5 name=__codelineno-38-5></a><a href=#__codelineno-38-5><span class=linenos data-linenos="5 "></span></a>gpg<span class=w> </span>--decrypt<span class=w> </span>image.tar.gz.gpg<span class=w> </span><span class=p>|</span><span class=w> </span>gunzip<span class=w> </span><span class=p>|</span><span class=w> </span>docker<span class=w> </span>load
</span></code></pre></div> <hr> <h2 id=publier-ses-images-sur-docker-hub>üì§ Publier ses Images sur Docker Hub<a class=headerlink href=#publier-ses-images-sur-docker-hub title="Permanent link">&para;</a></h2> <h3 id=architecture-de-publication>Architecture de Publication<a class=headerlink href=#architecture-de-publication title="Permanent link">&para;</a></h3> <p>La publication d'images sur Docker Hub suit un processus strictement d√©fini. L'image doit d'abord exister localement, √™tre correctement nomm√©e et tagu√©e selon la convention Docker Hub, puis √™tre envoy√©e via la commande <code>docker push</code>.</p> <h3 id=preparation-de-limage>Pr√©paration de l'Image<a class=headerlink href=#preparation-de-limage title="Permanent link">&para;</a></h3> <h4 id=convention-de-nommage>Convention de Nommage<a class=headerlink href=#convention-de-nommage title="Permanent link">&para;</a></h4> <p>Pour publier une image sur Docker Hub, elle doit suivre cette nomenclature :</p> <div class="language-text highlight"><span class=filename>Text Only</span><pre><span></span><code><span id=__span-39-1><a id=__codelineno-39-1 name=__codelineno-39-1></a><a href=#__codelineno-39-1><span class=linenos data-linenos="1 "></span></a>docker.io/[USERNAME]/[IMAGE_NAME]:[TAG]
</span></code></pre></div> <p>O√π : - <strong>docker.io</strong> : Registre par d√©faut (peut √™tre omis) - <strong>USERNAME</strong> : Nom d'utilisateur Docker Hub - <strong>IMAGE_NAME</strong> : Nom descriptif de l'image - <strong>TAG</strong> : Version ou identificateur (par d√©faut "latest" si omis)</p> <h4 id=exemple-de-nommage-correct>Exemple de Nommage Correct<a class=headerlink href=#exemple-de-nommage-correct title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-40-1><a id=__codelineno-40-1 name=__codelineno-40-1></a><a href=#__codelineno-40-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Nommer l&#39;image correctement</span>
</span><span id=__span-40-2><a id=__codelineno-40-2 name=__codelineno-40-2></a><a href=#__codelineno-40-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>tag<span class=w> </span>myapp:v1.0<span class=w> </span>montextura/myapp:v1.0
</span><span id=__span-40-3><a id=__codelineno-40-3 name=__codelineno-40-3></a><a href=#__codelineno-40-3><span class=linenos data-linenos="3 "></span></a>docker<span class=w> </span>tag<span class=w> </span>myapp:v1.0<span class=w> </span>montextura/myapp:latest
</span><span id=__span-40-4><a id=__codelineno-40-4 name=__codelineno-40-4></a><a href=#__codelineno-40-4><span class=linenos data-linenos="4 "></span></a>
</span><span id=__span-40-5><a id=__codelineno-40-5 name=__codelineno-40-5></a><a href=#__codelineno-40-5><span class=linenos data-linenos="5 "></span></a><span class=c1># V√©rifier les tags</span>
</span><span id=__span-40-6><a id=__codelineno-40-6 name=__codelineno-40-6></a><a href=#__codelineno-40-6><span class=linenos data-linenos="6 "></span></a>docker<span class=w> </span>images<span class=w> </span>montextura/myapp
</span></code></pre></div> <h3 id=authentification-a-docker-hub>Authentification √† Docker Hub<a class=headerlink href=#authentification-a-docker-hub title="Permanent link">&para;</a></h3> <h4 id=connexion-initiale>Connexion Initiale<a class=headerlink href=#connexion-initiale title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-41-1><a id=__codelineno-41-1 name=__codelineno-41-1></a><a href=#__codelineno-41-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Se connecter √† Docker Hub</span>
</span><span id=__span-41-2><a id=__codelineno-41-2 name=__codelineno-41-2></a><a href=#__codelineno-41-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>login
</span><span id=__span-41-3><a id=__codelineno-41-3 name=__codelineno-41-3></a><a href=#__codelineno-41-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-41-4><a id=__codelineno-41-4 name=__codelineno-41-4></a><a href=#__codelineno-41-4><span class=linenos data-linenos="4 "></span></a><span class=c1># Invite interactive :</span>
</span><span id=__span-41-5><a id=__codelineno-41-5 name=__codelineno-41-5></a><a href=#__codelineno-41-5><span class=linenos data-linenos="5 "></span></a><span class=c1># Login with your Docker ID to push and pull images from Docker Hub.</span>
</span><span id=__span-41-6><a id=__codelineno-41-6 name=__codelineno-41-6></a><a href=#__codelineno-41-6><span class=linenos data-linenos="6 "></span></a><span class=c1># If you don&#39;t have a Docker ID, head over to https://hub.docker.com to create one.</span>
</span><span id=__span-41-7><a id=__codelineno-41-7 name=__codelineno-41-7></a><a href=#__codelineno-41-7><span class=linenos data-linenos="7 "></span></a><span class=c1># Username: montextura</span>
</span><span id=__span-41-8><a id=__codelineno-41-8 name=__codelineno-41-8></a><a href=#__codelineno-41-8><span class=linenos data-linenos="8 "></span></a><span class=c1># Password: ‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
</span><span id=__span-41-9><a id=__codelineno-41-9 name=__codelineno-41-9></a><a href=#__codelineno-41-9><span class=linenos data-linenos="9 "></span></a><span class=c1># Login Succeeded</span>
</span></code></pre></div> <h4 id=stockage-des-identifiants>Stockage des Identifiants<a class=headerlink href=#stockage-des-identifiants title="Permanent link">&para;</a></h4> <p>Les identifiants sont stock√©s localement dans <code>~/.docker/config.json</code> (avec chiffrement basique selon la configuration du syst√®me).</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-42-1><a id=__codelineno-42-1 name=__codelineno-42-1></a><a href=#__codelineno-42-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Afficher la configuration (√† titre informatif uniquement)</span>
</span><span id=__span-42-2><a id=__codelineno-42-2 name=__codelineno-42-2></a><a href=#__codelineno-42-2><span class=linenos data-linenos="2 "></span></a>cat<span class=w> </span>~/.docker/config.json<span class=w> </span><span class=p>|</span><span class=w> </span>jq<span class=w> </span><span class=s1>&#39;.auths&#39;</span>
</span></code></pre></div> <h3 id=processus-de-push>Processus de Push<a class=headerlink href=#processus-de-push title="Permanent link">&para;</a></h3> <h4 id=commande-de-base>Commande de Base<a class=headerlink href=#commande-de-base title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-43-1><a id=__codelineno-43-1 name=__codelineno-43-1></a><a href=#__codelineno-43-1><span class=linenos data-linenos="1 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:v1.0
</span></code></pre></div> <h4 id=sortie-detaillee-du-push>Sortie D√©taill√©e du Push<a class=headerlink href=#sortie-detaillee-du-push title="Permanent link">&para;</a></h4> <div class="language-text highlight"><span class=filename>Text Only</span><pre><span></span><code><span id=__span-44-1><a id=__codelineno-44-1 name=__codelineno-44-1></a><a href=#__codelineno-44-1><span class=linenos data-linenos="1 "></span></a>The push refers to repository [docker.io/montextura/myapp]
</span><span id=__span-44-2><a id=__codelineno-44-2 name=__codelineno-44-2></a><a href=#__codelineno-44-2><span class=linenos data-linenos="2 "></span></a>a1d0c7532dbe: Pushed  
</span><span id=__span-44-3><a id=__codelineno-44-3 name=__codelineno-44-3></a><a href=#__codelineno-44-3><span class=linenos data-linenos="3 "></span></a>e02e811e3d8d: Pushed
</span><span id=__span-44-4><a id=__codelineno-44-4 name=__codelineno-44-4></a><a href=#__codelineno-44-4><span class=linenos data-linenos="4 "></span></a>2731eed57b6d: Pushed
</span><span id=__span-44-5><a id=__codelineno-44-5 name=__codelineno-44-5></a><a href=#__codelineno-44-5><span class=linenos data-linenos="5 "></span></a>v1.0: digest: sha256:abc123... size: 1234
</span></code></pre></div> <p>Chaque ligne repr√©sente une couche compress√©e et envoy√©e vers le registre.</p> <h4 id=push-complet-avec-tous-les-tags>Push Complet avec Tous les Tags<a class=headerlink href=#push-complet-avec-tous-les-tags title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-45-1><a id=__codelineno-45-1 name=__codelineno-45-1></a><a href=#__codelineno-45-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Pousser sp√©cifiquement plusieurs tags</span>
</span><span id=__span-45-2><a id=__codelineno-45-2 name=__codelineno-45-2></a><a href=#__codelineno-45-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:v1.0
</span><span id=__span-45-3><a id=__codelineno-45-3 name=__codelineno-45-3></a><a href=#__codelineno-45-3><span class=linenos data-linenos="3 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:latest
</span><span id=__span-45-4><a id=__codelineno-45-4 name=__codelineno-45-4></a><a href=#__codelineno-45-4><span class=linenos data-linenos="4 "></span></a>
</span><span id=__span-45-5><a id=__codelineno-45-5 name=__codelineno-45-5></a><a href=#__codelineno-45-5><span class=linenos data-linenos="5 "></span></a><span class=c1># Ou une syntaxe alternative (d√©pend de la version Docker)</span>
</span><span id=__span-45-6><a id=__codelineno-45-6 name=__codelineno-45-6></a><a href=#__codelineno-45-6><span class=linenos data-linenos="6 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp<span class=w> </span>--all-tags
</span></code></pre></div> <h3 id=gestion-des-registres-prives>Gestion des Registres Priv√©s<a class=headerlink href=#gestion-des-registres-prives title="Permanent link">&para;</a></h3> <h4 id=creation-dun-registre-prive>Cr√©ation d'un Registre Priv√©<a class=headerlink href=#creation-dun-registre-prive title="Permanent link">&para;</a></h4> <p>Pour maintenir un contr√¥le total, les organisations h√©bergent souvent des registres priv√©s :</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-46-1><a id=__codelineno-46-1 name=__codelineno-46-1></a><a href=#__codelineno-46-1><span class=linenos data-linenos="1 "></span></a><span class=c1># D√©marrer un registre priv√© local</span>
</span><span id=__span-46-2><a id=__codelineno-46-2 name=__codelineno-46-2></a><a href=#__codelineno-46-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>run<span class=w> </span>-d<span class=w> </span><span class=se>\</span>
</span><span id=__span-46-3><a id=__codelineno-46-3 name=__codelineno-46-3></a><a href=#__codelineno-46-3><span class=linenos data-linenos="3 "></span></a><span class=w>  </span>-p<span class=w> </span><span class=m>5000</span>:5000<span class=w> </span><span class=se>\</span>
</span><span id=__span-46-4><a id=__codelineno-46-4 name=__codelineno-46-4></a><a href=#__codelineno-46-4><span class=linenos data-linenos="4 "></span></a><span class=w>  </span>--name<span class=w> </span>local-registry<span class=w> </span><span class=se>\</span>
</span><span id=__span-46-5><a id=__codelineno-46-5 name=__codelineno-46-5></a><a href=#__codelineno-46-5><span class=linenos data-linenos="5 "></span></a><span class=w>  </span>-v<span class=w> </span>registry-data:/var/lib/registry<span class=w> </span><span class=se>\</span>
</span><span id=__span-46-6><a id=__codelineno-46-6 name=__codelineno-46-6></a><a href=#__codelineno-46-6><span class=linenos data-linenos="6 "></span></a><span class=w>  </span>registry:latest
</span></code></pre></div> <h4 id=push-vers-un-registre-prive>Push vers un Registre Priv√©<a class=headerlink href=#push-vers-un-registre-prive title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-47-1><a id=__codelineno-47-1 name=__codelineno-47-1></a><a href=#__codelineno-47-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Retagger pour le registre priv√©</span>
</span><span id=__span-47-2><a id=__codelineno-47-2 name=__codelineno-47-2></a><a href=#__codelineno-47-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>tag<span class=w> </span>montextura/myapp:v1.0<span class=w> </span>localhost:5000/myapp:v1.0
</span><span id=__span-47-3><a id=__codelineno-47-3 name=__codelineno-47-3></a><a href=#__codelineno-47-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-47-4><a id=__codelineno-47-4 name=__codelineno-47-4></a><a href=#__codelineno-47-4><span class=linenos data-linenos="4 "></span></a><span class=c1># Pousser vers le registre local</span>
</span><span id=__span-47-5><a id=__codelineno-47-5 name=__codelineno-47-5></a><a href=#__codelineno-47-5><span class=linenos data-linenos="5 "></span></a>docker<span class=w> </span>push<span class=w> </span>localhost:5000/myapp:v1.0
</span><span id=__span-47-6><a id=__codelineno-47-6 name=__codelineno-47-6></a><a href=#__codelineno-47-6><span class=linenos data-linenos="6 "></span></a>
</span><span id=__span-47-7><a id=__codelineno-47-7 name=__codelineno-47-7></a><a href=#__codelineno-47-7><span class=linenos data-linenos="7 "></span></a><span class=c1># Pull depuis le registre local</span>
</span><span id=__span-47-8><a id=__codelineno-47-8 name=__codelineno-47-8></a><a href=#__codelineno-47-8><span class=linenos data-linenos="8 "></span></a>docker<span class=w> </span>pull<span class=w> </span>localhost:5000/myapp:v1.0
</span></code></pre></div> <h4 id=registre-prive-distant>Registre Priv√© Distant<a class=headerlink href=#registre-prive-distant title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-48-1><a id=__codelineno-48-1 name=__codelineno-48-1></a><a href=#__codelineno-48-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Retagger pour un registre priv√© distant</span>
</span><span id=__span-48-2><a id=__codelineno-48-2 name=__codelineno-48-2></a><a href=#__codelineno-48-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>tag<span class=w> </span>montextura/myapp:v1.0<span class=w> </span>registry.example.com:5000/myapp:v1.0
</span><span id=__span-48-3><a id=__codelineno-48-3 name=__codelineno-48-3></a><a href=#__codelineno-48-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-48-4><a id=__codelineno-48-4 name=__codelineno-48-4></a><a href=#__codelineno-48-4><span class=linenos data-linenos="4 "></span></a><span class=c1># Se connecter au registre priv√©</span>
</span><span id=__span-48-5><a id=__codelineno-48-5 name=__codelineno-48-5></a><a href=#__codelineno-48-5><span class=linenos data-linenos="5 "></span></a>docker<span class=w> </span>login<span class=w> </span>registry.example.com:5000
</span><span id=__span-48-6><a id=__codelineno-48-6 name=__codelineno-48-6></a><a href=#__codelineno-48-6><span class=linenos data-linenos="6 "></span></a>
</span><span id=__span-48-7><a id=__codelineno-48-7 name=__codelineno-48-7></a><a href=#__codelineno-48-7><span class=linenos data-linenos="7 "></span></a><span class=c1># Pousser</span>
</span><span id=__span-48-8><a id=__codelineno-48-8 name=__codelineno-48-8></a><a href=#__codelineno-48-8><span class=linenos data-linenos="8 "></span></a>docker<span class=w> </span>push<span class=w> </span>registry.example.com:5000/myapp:v1.0
</span></code></pre></div> <h3 id=creation-dimages-publiables>Cr√©ation d'Images Publiables<a class=headerlink href=#creation-dimages-publiables title="Permanent link">&para;</a></h3> <h4 id=dockerfile-optimal-pour-publication>Dockerfile Optimal pour Publication<a class=headerlink href=#dockerfile-optimal-pour-publication title="Permanent link">&para;</a></h4> <div class="language-dockerfile highlight"><span class=filename>Docker</span><pre><span></span><code><span id=__span-49-1><a id=__codelineno-49-1 name=__codelineno-49-1></a><a href=#__codelineno-49-1><span class=linenos data-linenos=" 1 "></span></a><span class=c># Utiliser une image de base officielle l√©g√®re</span>
</span><span id=__span-49-2><a id=__codelineno-49-2 name=__codelineno-49-2></a><a href=#__codelineno-49-2><span class=linenos data-linenos=" 2 "></span></a><span class=k>FROM</span><span class=w> </span><span class=s>alpine:3.18</span>
</span><span id=__span-49-3><a id=__codelineno-49-3 name=__codelineno-49-3></a><a href=#__codelineno-49-3><span class=linenos data-linenos=" 3 "></span></a>
</span><span id=__span-49-4><a id=__codelineno-49-4 name=__codelineno-49-4></a><a href=#__codelineno-49-4><span class=linenos data-linenos=" 4 "></span></a><span class=c># D√©finir des m√©tadonn√©es</span>
</span><span id=__span-49-5><a id=__codelineno-49-5 name=__codelineno-49-5></a><a href=#__codelineno-49-5><span class=linenos data-linenos=" 5 "></span></a><span class=k>LABEL</span><span class=w> </span><span class=nv>maintainer</span><span class=o>=</span><span class=s2>&quot;contact@example.com&quot;</span>
</span><span id=__span-49-6><a id=__codelineno-49-6 name=__codelineno-49-6></a><a href=#__codelineno-49-6><span class=linenos data-linenos=" 6 "></span></a><span class=k>LABEL</span><span class=w> </span><span class=nv>version</span><span class=o>=</span><span class=s2>&quot;1.0&quot;</span>
</span><span id=__span-49-7><a id=__codelineno-49-7 name=__codelineno-49-7></a><a href=#__codelineno-49-7><span class=linenos data-linenos=" 7 "></span></a><span class=k>LABEL</span><span class=w> </span><span class=nv>description</span><span class=o>=</span><span class=s2>&quot;Application exemple&quot;</span>
</span><span id=__span-49-8><a id=__codelineno-49-8 name=__codelineno-49-8></a><a href=#__codelineno-49-8><span class=linenos data-linenos=" 8 "></span></a>
</span><span id=__span-49-9><a id=__codelineno-49-9 name=__codelineno-49-9></a><a href=#__codelineno-49-9><span class=linenos data-linenos=" 9 "></span></a><span class=c># Installer les d√©pendances</span>
</span><span id=__span-49-10><a id=__codelineno-49-10 name=__codelineno-49-10></a><a href=#__codelineno-49-10><span class=linenos data-linenos="10 "></span></a><span class=k>RUN</span><span class=w> </span>apk<span class=w> </span>add<span class=w> </span>--no-cache<span class=w> </span><span class=se>\</span>
</span><span id=__span-49-11><a id=__codelineno-49-11 name=__codelineno-49-11></a><a href=#__codelineno-49-11><span class=linenos data-linenos="11 "></span></a><span class=w>    </span>python3<span class=w> </span><span class=se>\</span>
</span><span id=__span-49-12><a id=__codelineno-49-12 name=__codelineno-49-12></a><a href=#__codelineno-49-12><span class=linenos data-linenos="12 "></span></a><span class=w>    </span>py3-pip
</span><span id=__span-49-13><a id=__codelineno-49-13 name=__codelineno-49-13></a><a href=#__codelineno-49-13><span class=linenos data-linenos="13 "></span></a>
</span><span id=__span-49-14><a id=__codelineno-49-14 name=__codelineno-49-14></a><a href=#__codelineno-49-14><span class=linenos data-linenos="14 "></span></a><span class=c># Copier le code</span>
</span><span id=__span-49-15><a id=__codelineno-49-15 name=__codelineno-49-15></a><a href=#__codelineno-49-15><span class=linenos data-linenos="15 "></span></a><span class=k>WORKDIR</span><span class=w> </span><span class=s>/app</span>
</span><span id=__span-49-16><a id=__codelineno-49-16 name=__codelineno-49-16></a><a href=#__codelineno-49-16><span class=linenos data-linenos="16 "></span></a><span class=k>COPY</span><span class=w> </span>.<span class=w> </span>.
</span><span id=__span-49-17><a id=__codelineno-49-17 name=__codelineno-49-17></a><a href=#__codelineno-49-17><span class=linenos data-linenos="17 "></span></a>
</span><span id=__span-49-18><a id=__codelineno-49-18 name=__codelineno-49-18></a><a href=#__codelineno-49-18><span class=linenos data-linenos="18 "></span></a><span class=c># Installer les d√©pendances Python</span>
</span><span id=__span-49-19><a id=__codelineno-49-19 name=__codelineno-49-19></a><a href=#__codelineno-49-19><span class=linenos data-linenos="19 "></span></a><span class=k>RUN</span><span class=w> </span>pip<span class=w> </span>install<span class=w> </span>--no-cache-dir<span class=w> </span>-r<span class=w> </span>requirements.txt
</span><span id=__span-49-20><a id=__codelineno-49-20 name=__codelineno-49-20></a><a href=#__codelineno-49-20><span class=linenos data-linenos="20 "></span></a>
</span><span id=__span-49-21><a id=__codelineno-49-21 name=__codelineno-49-21></a><a href=#__codelineno-49-21><span class=linenos data-linenos="21 "></span></a><span class=c># Exposer le port</span>
</span><span id=__span-49-22><a id=__codelineno-49-22 name=__codelineno-49-22></a><a href=#__codelineno-49-22><span class=linenos data-linenos="22 "></span></a><span class=k>EXPOSE</span><span class=w> </span><span class=s>5000</span>
</span><span id=__span-49-23><a id=__codelineno-49-23 name=__codelineno-49-23></a><a href=#__codelineno-49-23><span class=linenos data-linenos="23 "></span></a>
</span><span id=__span-49-24><a id=__codelineno-49-24 name=__codelineno-49-24></a><a href=#__codelineno-49-24><span class=linenos data-linenos="24 "></span></a><span class=c># D√©finir l&#39;entrypoint</span>
</span><span id=__span-49-25><a id=__codelineno-49-25 name=__codelineno-49-25></a><a href=#__codelineno-49-25><span class=linenos data-linenos="25 "></span></a><span class=k>ENTRYPOINT</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;python3&quot;</span><span class=p>]</span>
</span><span id=__span-49-26><a id=__codelineno-49-26 name=__codelineno-49-26></a><a href=#__codelineno-49-26><span class=linenos data-linenos="26 "></span></a><span class=k>CMD</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;app.py&quot;</span><span class=p>]</span>
</span></code></pre></div> <h4 id=build-et-publication-complete>Build et Publication Compl√®te<a class=headerlink href=#build-et-publication-complete title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-50-1><a id=__codelineno-50-1 name=__codelineno-50-1></a><a href=#__codelineno-50-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1># Construire avec le tag appropri√©</span>
</span><span id=__span-50-2><a id=__codelineno-50-2 name=__codelineno-50-2></a><a href=#__codelineno-50-2><span class=linenos data-linenos=" 2 "></span></a>docker<span class=w> </span>build<span class=w> </span>-t<span class=w> </span>montextura/myapp:v1.0<span class=w> </span>.
</span><span id=__span-50-3><a id=__codelineno-50-3 name=__codelineno-50-3></a><a href=#__codelineno-50-3><span class=linenos data-linenos=" 3 "></span></a>
</span><span id=__span-50-4><a id=__codelineno-50-4 name=__codelineno-50-4></a><a href=#__codelineno-50-4><span class=linenos data-linenos=" 4 "></span></a><span class=c1># Ajouter le tag latest</span>
</span><span id=__span-50-5><a id=__codelineno-50-5 name=__codelineno-50-5></a><a href=#__codelineno-50-5><span class=linenos data-linenos=" 5 "></span></a>docker<span class=w> </span>tag<span class=w> </span>montextura/myapp:v1.0<span class=w> </span>montextura/myapp:latest
</span><span id=__span-50-6><a id=__codelineno-50-6 name=__codelineno-50-6></a><a href=#__codelineno-50-6><span class=linenos data-linenos=" 6 "></span></a>
</span><span id=__span-50-7><a id=__codelineno-50-7 name=__codelineno-50-7></a><a href=#__codelineno-50-7><span class=linenos data-linenos=" 7 "></span></a><span class=c1># Se connecter</span>
</span><span id=__span-50-8><a id=__codelineno-50-8 name=__codelineno-50-8></a><a href=#__codelineno-50-8><span class=linenos data-linenos=" 8 "></span></a>docker<span class=w> </span>login
</span><span id=__span-50-9><a id=__codelineno-50-9 name=__codelineno-50-9></a><a href=#__codelineno-50-9><span class=linenos data-linenos=" 9 "></span></a>
</span><span id=__span-50-10><a id=__codelineno-50-10 name=__codelineno-50-10></a><a href=#__codelineno-50-10><span class=linenos data-linenos="10 "></span></a><span class=c1># Pousser les deux versions</span>
</span><span id=__span-50-11><a id=__codelineno-50-11 name=__codelineno-50-11></a><a href=#__codelineno-50-11><span class=linenos data-linenos="11 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:v1.0
</span><span id=__span-50-12><a id=__codelineno-50-12 name=__codelineno-50-12></a><a href=#__codelineno-50-12><span class=linenos data-linenos="12 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:latest
</span><span id=__span-50-13><a id=__codelineno-50-13 name=__codelineno-50-13></a><a href=#__codelineno-50-13><span class=linenos data-linenos="13 "></span></a>
</span><span id=__span-50-14><a id=__codelineno-50-14 name=__codelineno-50-14></a><a href=#__codelineno-50-14><span class=linenos data-linenos="14 "></span></a><span class=c1># V√©rifier sur Docker Hub</span>
</span><span id=__span-50-15><a id=__codelineno-50-15 name=__codelineno-50-15></a><a href=#__codelineno-50-15><span class=linenos data-linenos="15 "></span></a><span class=c1># https://hub.docker.com/r/montextura/myapp</span>
</span></code></pre></div> <h3 id=gestion-des-versions-et-tags>Gestion des Versions et Tags<a class=headerlink href=#gestion-des-versions-et-tags title="Permanent link">&para;</a></h3> <h4 id=strategies-de-tagging>Strat√©gies de Tagging<a class=headerlink href=#strategies-de-tagging title="Permanent link">&para;</a></h4> <p><strong>Semantic Versioning</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-51-1><a id=__codelineno-51-1 name=__codelineno-51-1></a><a href=#__codelineno-51-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1># Version majeure.mineure.patch</span>
</span><span id=__span-51-2><a id=__codelineno-51-2 name=__codelineno-51-2></a><a href=#__codelineno-51-2><span class=linenos data-linenos=" 2 "></span></a>docker<span class=w> </span>build<span class=w> </span>-t<span class=w> </span>montextura/myapp:1.0.0<span class=w> </span>.
</span><span id=__span-51-3><a id=__codelineno-51-3 name=__codelineno-51-3></a><a href=#__codelineno-51-3><span class=linenos data-linenos=" 3 "></span></a>docker<span class=w> </span>build<span class=w> </span>-t<span class=w> </span>montextura/myapp:1.0<span class=w> </span>.
</span><span id=__span-51-4><a id=__codelineno-51-4 name=__codelineno-51-4></a><a href=#__codelineno-51-4><span class=linenos data-linenos=" 4 "></span></a>docker<span class=w> </span>build<span class=w> </span>-t<span class=w> </span>montextura/myapp:1<span class=w> </span>.
</span><span id=__span-51-5><a id=__codelineno-51-5 name=__codelineno-51-5></a><a href=#__codelineno-51-5><span class=linenos data-linenos=" 5 "></span></a>docker<span class=w> </span>build<span class=w> </span>-t<span class=w> </span>montextura/myapp:latest<span class=w> </span>.
</span><span id=__span-51-6><a id=__codelineno-51-6 name=__codelineno-51-6></a><a href=#__codelineno-51-6><span class=linenos data-linenos=" 6 "></span></a>
</span><span id=__span-51-7><a id=__codelineno-51-7 name=__codelineno-51-7></a><a href=#__codelineno-51-7><span class=linenos data-linenos=" 7 "></span></a><span class=c1># Pousser tous les tags</span>
</span><span id=__span-51-8><a id=__codelineno-51-8 name=__codelineno-51-8></a><a href=#__codelineno-51-8><span class=linenos data-linenos=" 8 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:1.0.0
</span><span id=__span-51-9><a id=__codelineno-51-9 name=__codelineno-51-9></a><a href=#__codelineno-51-9><span class=linenos data-linenos=" 9 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:1.0
</span><span id=__span-51-10><a id=__codelineno-51-10 name=__codelineno-51-10></a><a href=#__codelineno-51-10><span class=linenos data-linenos="10 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:1
</span><span id=__span-51-11><a id=__codelineno-51-11 name=__codelineno-51-11></a><a href=#__codelineno-51-11><span class=linenos data-linenos="11 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:latest
</span></code></pre></div> <p><strong>Date-based Tagging</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-52-1><a id=__codelineno-52-1 name=__codelineno-52-1></a><a href=#__codelineno-52-1><span class=linenos data-linenos="1 "></span></a><span class=nv>DATE</span><span class=o>=</span><span class=k>$(</span>date<span class=w> </span>+%Y%m%d<span class=k>)</span>
</span><span id=__span-52-2><a id=__codelineno-52-2 name=__codelineno-52-2></a><a href=#__codelineno-52-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>build<span class=w> </span>-t<span class=w> </span>montextura/myapp:<span class=si>${</span><span class=nv>DATE</span><span class=si>}</span><span class=w> </span>.
</span><span id=__span-52-3><a id=__codelineno-52-3 name=__codelineno-52-3></a><a href=#__codelineno-52-3><span class=linenos data-linenos="3 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:<span class=si>${</span><span class=nv>DATE</span><span class=si>}</span>
</span></code></pre></div> <p><strong>Build Number Tagging (pour CI/CD)</strong></p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-53-1><a id=__codelineno-53-1 name=__codelineno-53-1></a><a href=#__codelineno-53-1><span class=linenos data-linenos="1 "></span></a><span class=nv>BUILD_ID</span><span class=o>=</span><span class=nv>$CI_PIPELINE_ID</span>
</span><span id=__span-53-2><a id=__codelineno-53-2 name=__codelineno-53-2></a><a href=#__codelineno-53-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>build<span class=w> </span>-t<span class=w> </span>montextura/myapp:build-<span class=si>${</span><span class=nv>BUILD_ID</span><span class=si>}</span><span class=w> </span>.
</span><span id=__span-53-3><a id=__codelineno-53-3 name=__codelineno-53-3></a><a href=#__codelineno-53-3><span class=linenos data-linenos="3 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:build-<span class=si>${</span><span class=nv>BUILD_ID</span><span class=si>}</span>
</span></code></pre></div> <h3 id=gestion-des-permissions-et-acces>Gestion des Permissions et Acc√®s<a class=headerlink href=#gestion-des-permissions-et-acces title="Permanent link">&para;</a></h3> <h4 id=creer-une-equipe-sur-docker-hub>Cr√©er une √âquipe sur Docker Hub<a class=headerlink href=#creer-une-equipe-sur-docker-hub title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-54-1><a id=__codelineno-54-1 name=__codelineno-54-1></a><a href=#__codelineno-54-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Via l&#39;interface web Docker Hub :</span>
</span><span id=__span-54-2><a id=__codelineno-54-2 name=__codelineno-54-2></a><a href=#__codelineno-54-2><span class=linenos data-linenos="2 "></span></a><span class=c1># 1. Se connecter √† hub.docker.com</span>
</span><span id=__span-54-3><a id=__codelineno-54-3 name=__codelineno-54-3></a><a href=#__codelineno-54-3><span class=linenos data-linenos="3 "></span></a><span class=c1># 2. Aller √† &quot;Teams and Organizations&quot;</span>
</span><span id=__span-54-4><a id=__codelineno-54-4 name=__codelineno-54-4></a><a href=#__codelineno-54-4><span class=linenos data-linenos="4 "></span></a><span class=c1># 3. Cr√©er une nouvelle √©quipe</span>
</span><span id=__span-54-5><a id=__codelineno-54-5 name=__codelineno-54-5></a><a href=#__codelineno-54-5><span class=linenos data-linenos="5 "></span></a><span class=c1># 4. Ajouter les membres</span>
</span></code></pre></div> <h4 id=partager-une-image-privee>Partager une Image Priv√©e<a class=headerlink href=#partager-une-image-privee title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-55-1><a id=__codelineno-55-1 name=__codelineno-55-1></a><a href=#__codelineno-55-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Via l&#39;interface web :</span>
</span><span id=__span-55-2><a id=__codelineno-55-2 name=__codelineno-55-2></a><a href=#__codelineno-55-2><span class=linenos data-linenos="2 "></span></a><span class=c1># 1. Aller au d√©p√¥t de l&#39;image</span>
</span><span id=__span-55-3><a id=__codelineno-55-3 name=__codelineno-55-3></a><a href=#__codelineno-55-3><span class=linenos data-linenos="3 "></span></a><span class=c1># 2. Aller √† &quot;Permissions&quot;</span>
</span><span id=__span-55-4><a id=__codelineno-55-4 name=__codelineno-55-4></a><a href=#__codelineno-55-4><span class=linenos data-linenos="4 "></span></a><span class=c1># 3. Ajouter les utilisateurs ou √©quipes</span>
</span></code></pre></div> <h3 id=automatisation-des-publications>Automatisation des Publications<a class=headerlink href=#automatisation-des-publications title="Permanent link">&para;</a></h3> <h4 id=utiliser-un-personal-access-token>Utiliser un Personal Access Token<a class=headerlink href=#utiliser-un-personal-access-token title="Permanent link">&para;</a></h4> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-56-1><a id=__codelineno-56-1 name=__codelineno-56-1></a><a href=#__codelineno-56-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Cr√©er un PAT sur Docker Hub (interface web)</span>
</span><span id=__span-56-2><a id=__codelineno-56-2 name=__codelineno-56-2></a><a href=#__codelineno-56-2><span class=linenos data-linenos="2 "></span></a><span class=c1># Utiliser le PAT dans les pipelines CI/CD</span>
</span><span id=__span-56-3><a id=__codelineno-56-3 name=__codelineno-56-3></a><a href=#__codelineno-56-3><span class=linenos data-linenos="3 "></span></a>
</span><span id=__span-56-4><a id=__codelineno-56-4 name=__codelineno-56-4></a><a href=#__codelineno-56-4><span class=linenos data-linenos="4 "></span></a><span class=nb>echo</span><span class=w> </span><span class=nv>$DOCKER_PAT</span><span class=w> </span><span class=p>|</span><span class=w> </span>docker<span class=w> </span>login<span class=w> </span>-u<span class=w> </span><span class=nv>$DOCKER_USERNAME</span><span class=w> </span>--password-stdin
</span><span id=__span-56-5><a id=__codelineno-56-5 name=__codelineno-56-5></a><a href=#__codelineno-56-5><span class=linenos data-linenos="5 "></span></a>
</span><span id=__span-56-6><a id=__codelineno-56-6 name=__codelineno-56-6></a><a href=#__codelineno-56-6><span class=linenos data-linenos="6 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:v1.0
</span><span id=__span-56-7><a id=__codelineno-56-7 name=__codelineno-56-7></a><a href=#__codelineno-56-7><span class=linenos data-linenos="7 "></span></a>
</span><span id=__span-56-8><a id=__codelineno-56-8 name=__codelineno-56-8></a><a href=#__codelineno-56-8><span class=linenos data-linenos="8 "></span></a>docker<span class=w> </span><span class=nb>logout</span>
</span></code></pre></div> <h4 id=exemple-github-actions>Exemple GitHub Actions<a class=headerlink href=#exemple-github-actions title="Permanent link">&para;</a></h4> <div class="language-yaml highlight"><span class=filename>YAML</span><pre><span></span><code><span id=__span-57-1><a id=__codelineno-57-1 name=__codelineno-57-1></a><a href=#__codelineno-57-1><span class=linenos data-linenos=" 1 "></span></a><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Build and Push to Docker Hub</span>
</span><span id=__span-57-2><a id=__codelineno-57-2 name=__codelineno-57-2></a><a href=#__codelineno-57-2><span class=linenos data-linenos=" 2 "></span></a>
</span><span id=__span-57-3><a id=__codelineno-57-3 name=__codelineno-57-3></a><a href=#__codelineno-57-3><span class=linenos data-linenos=" 3 "></span></a><span class=nt>on</span><span class=p>:</span>
</span><span id=__span-57-4><a id=__codelineno-57-4 name=__codelineno-57-4></a><a href=#__codelineno-57-4><span class=linenos data-linenos=" 4 "></span></a><span class=w>  </span><span class=nt>push</span><span class=p>:</span>
</span><span id=__span-57-5><a id=__codelineno-57-5 name=__codelineno-57-5></a><a href=#__codelineno-57-5><span class=linenos data-linenos=" 5 "></span></a><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>main</span><span class="p p-Indicator">]</span>
</span><span id=__span-57-6><a id=__codelineno-57-6 name=__codelineno-57-6></a><a href=#__codelineno-57-6><span class=linenos data-linenos=" 6 "></span></a><span class=w>    </span><span class=nt>tags</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">[</span><span class=nv>v*</span><span class="p p-Indicator">]</span>
</span><span id=__span-57-7><a id=__codelineno-57-7 name=__codelineno-57-7></a><a href=#__codelineno-57-7><span class=linenos data-linenos=" 7 "></span></a>
</span><span id=__span-57-8><a id=__codelineno-57-8 name=__codelineno-57-8></a><a href=#__codelineno-57-8><span class=linenos data-linenos=" 8 "></span></a><span class=nt>jobs</span><span class=p>:</span>
</span><span id=__span-57-9><a id=__codelineno-57-9 name=__codelineno-57-9></a><a href=#__codelineno-57-9><span class=linenos data-linenos=" 9 "></span></a><span class=w>  </span><span class=nt>build-and-push</span><span class=p>:</span>
</span><span id=__span-57-10><a id=__codelineno-57-10 name=__codelineno-57-10></a><a href=#__codelineno-57-10><span class=linenos data-linenos="10 "></span></a><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
</span><span id=__span-57-11><a id=__codelineno-57-11 name=__codelineno-57-11></a><a href=#__codelineno-57-11><span class=linenos data-linenos="11 "></span></a><span class=w>    </span><span class=nt>steps</span><span class=p>:</span>
</span><span id=__span-57-12><a id=__codelineno-57-12 name=__codelineno-57-12></a><a href=#__codelineno-57-12><span class=linenos data-linenos="12 "></span></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
</span><span id=__span-57-13><a id=__codelineno-57-13 name=__codelineno-57-13></a><a href=#__codelineno-57-13><span class=linenos data-linenos="13 "></span></a>
</span><span id=__span-57-14><a id=__codelineno-57-14 name=__codelineno-57-14></a><a href=#__codelineno-57-14><span class=linenos data-linenos="14 "></span></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Login to Docker Hub</span>
</span><span id=__span-57-15><a id=__codelineno-57-15 name=__codelineno-57-15></a><a href=#__codelineno-57-15><span class=linenos data-linenos="15 "></span></a><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">docker/login-action@v2</span>
</span><span id=__span-57-16><a id=__codelineno-57-16 name=__codelineno-57-16></a><a href=#__codelineno-57-16><span class=linenos data-linenos="16 "></span></a><span class=w>        </span><span class=nt>with</span><span class=p>:</span>
</span><span id=__span-57-17><a id=__codelineno-57-17 name=__codelineno-57-17></a><a href=#__codelineno-57-17><span class=linenos data-linenos="17 "></span></a><span class=w>          </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.DOCKER_USERNAME }}</span>
</span><span id=__span-57-18><a id=__codelineno-57-18 name=__codelineno-57-18></a><a href=#__codelineno-57-18><span class=linenos data-linenos="18 "></span></a><span class=w>          </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.DOCKER_PAT }}</span>
</span><span id=__span-57-19><a id=__codelineno-57-19 name=__codelineno-57-19></a><a href=#__codelineno-57-19><span class=linenos data-linenos="19 "></span></a>
</span><span id=__span-57-20><a id=__codelineno-57-20 name=__codelineno-57-20></a><a href=#__codelineno-57-20><span class=linenos data-linenos="20 "></span></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Build and push</span>
</span><span id=__span-57-21><a id=__codelineno-57-21 name=__codelineno-57-21></a><a href=#__codelineno-57-21><span class=linenos data-linenos="21 "></span></a><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">docker/build-push-action@v4</span>
</span><span id=__span-57-22><a id=__codelineno-57-22 name=__codelineno-57-22></a><a href=#__codelineno-57-22><span class=linenos data-linenos="22 "></span></a><span class=w>        </span><span class=nt>with</span><span class=p>:</span>
</span><span id=__span-57-23><a id=__codelineno-57-23 name=__codelineno-57-23></a><a href=#__codelineno-57-23><span class=linenos data-linenos="23 "></span></a><span class=w>          </span><span class=nt>context</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">.</span>
</span><span id=__span-57-24><a id=__codelineno-57-24 name=__codelineno-57-24></a><a href=#__codelineno-57-24><span class=linenos data-linenos="24 "></span></a><span class=w>          </span><span class=nt>push</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-57-25><a id=__codelineno-57-25 name=__codelineno-57-25></a><a href=#__codelineno-57-25><span class=linenos data-linenos="25 "></span></a><span class=w>          </span><span class=nt>tags</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">montextura/myapp:${{ github.ref_name }}</span>
</span></code></pre></div> <h3 id=optimisation-des-images-publiees>Optimisation des Images Publi√©es<a class=headerlink href=#optimisation-des-images-publiees title="Permanent link">&para;</a></h3> <h4 id=reduction-de-la-taille>R√©duction de la Taille<a class=headerlink href=#reduction-de-la-taille title="Permanent link">&para;</a></h4> <div class="language-dockerfile highlight"><span class=filename>Docker</span><pre><span></span><code><span id=__span-58-1><a id=__codelineno-58-1 name=__codelineno-58-1></a><a href=#__codelineno-58-1><span class=linenos data-linenos=" 1 "></span></a><span class=c># ‚ùå Mauvaise pratique : image grande</span>
</span><span id=__span-58-2><a id=__codelineno-58-2 name=__codelineno-58-2></a><a href=#__codelineno-58-2><span class=linenos data-linenos=" 2 "></span></a><span class=k>FROM</span><span class=w> </span><span class=s>ubuntu:22.04</span>
</span><span id=__span-58-3><a id=__codelineno-58-3 name=__codelineno-58-3></a><a href=#__codelineno-58-3><span class=linenos data-linenos=" 3 "></span></a><span class=k>RUN</span><span class=w> </span>apt-get<span class=w> </span>update<span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>apt-get<span class=w> </span>install<span class=w> </span>-y<span class=w> </span>build-essential
</span><span id=__span-58-4><a id=__codelineno-58-4 name=__codelineno-58-4></a><a href=#__codelineno-58-4><span class=linenos data-linenos=" 4 "></span></a><span class=k>COPY</span><span class=w> </span>myapp<span class=w> </span>/
</span><span id=__span-58-5><a id=__codelineno-58-5 name=__codelineno-58-5></a><a href=#__codelineno-58-5><span class=linenos data-linenos=" 5 "></span></a><span class=k>ENTRYPOINT</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;/myapp&quot;</span><span class=p>]</span>
</span><span id=__span-58-6><a id=__codelineno-58-6 name=__codelineno-58-6></a><a href=#__codelineno-58-6><span class=linenos data-linenos=" 6 "></span></a>
</span><span id=__span-58-7><a id=__codelineno-58-7 name=__codelineno-58-7></a><a href=#__codelineno-58-7><span class=linenos data-linenos=" 7 "></span></a><span class=c># ‚úÖ Bonne pratique : image l√©g√®re</span>
</span><span id=__span-58-8><a id=__codelineno-58-8 name=__codelineno-58-8></a><a href=#__codelineno-58-8><span class=linenos data-linenos=" 8 "></span></a><span class=k>FROM</span><span class=w> </span><span class=s>alpine:3.18</span>
</span><span id=__span-58-9><a id=__codelineno-58-9 name=__codelineno-58-9></a><a href=#__codelineno-58-9><span class=linenos data-linenos=" 9 "></span></a><span class=k>RUN</span><span class=w> </span>apk<span class=w> </span>add<span class=w> </span>--no-cache<span class=w> </span>libc6-compat
</span><span id=__span-58-10><a id=__codelineno-58-10 name=__codelineno-58-10></a><a href=#__codelineno-58-10><span class=linenos data-linenos="10 "></span></a><span class=k>COPY</span><span class=w> </span>--from<span class=o>=</span>builder<span class=w> </span>/myapp<span class=w> </span>/
</span><span id=__span-58-11><a id=__codelineno-58-11 name=__codelineno-58-11></a><a href=#__codelineno-58-11><span class=linenos data-linenos="11 "></span></a><span class=k>ENTRYPOINT</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;/myapp&quot;</span><span class=p>]</span>
</span></code></pre></div> <h4 id=build-multi-stage>Build Multi-Stage<a class=headerlink href=#build-multi-stage title="Permanent link">&para;</a></h4> <div class="language-dockerfile highlight"><span class=filename>Docker</span><pre><span></span><code><span id=__span-59-1><a id=__codelineno-59-1 name=__codelineno-59-1></a><a href=#__codelineno-59-1><span class=linenos data-linenos=" 1 "></span></a><span class=c># Stage 1 : Compilation</span>
</span><span id=__span-59-2><a id=__codelineno-59-2 name=__codelineno-59-2></a><a href=#__codelineno-59-2><span class=linenos data-linenos=" 2 "></span></a><span class=k>FROM</span><span class=w> </span><span class=s>golang:1.21</span><span class=w> </span><span class=k>AS</span><span class=w> </span><span class=s>builder</span>
</span><span id=__span-59-3><a id=__codelineno-59-3 name=__codelineno-59-3></a><a href=#__codelineno-59-3><span class=linenos data-linenos=" 3 "></span></a><span class=k>WORKDIR</span><span class=w> </span><span class=s>/build</span>
</span><span id=__span-59-4><a id=__codelineno-59-4 name=__codelineno-59-4></a><a href=#__codelineno-59-4><span class=linenos data-linenos=" 4 "></span></a><span class=k>COPY</span><span class=w> </span>.<span class=w> </span>.
</span><span id=__span-59-5><a id=__codelineno-59-5 name=__codelineno-59-5></a><a href=#__codelineno-59-5><span class=linenos data-linenos=" 5 "></span></a><span class=k>RUN</span><span class=w> </span>go<span class=w> </span>build<span class=w> </span>-o<span class=w> </span>myapp<span class=w> </span>.
</span><span id=__span-59-6><a id=__codelineno-59-6 name=__codelineno-59-6></a><a href=#__codelineno-59-6><span class=linenos data-linenos=" 6 "></span></a>
</span><span id=__span-59-7><a id=__codelineno-59-7 name=__codelineno-59-7></a><a href=#__codelineno-59-7><span class=linenos data-linenos=" 7 "></span></a><span class=c># Stage 2 : Ex√©cution</span>
</span><span id=__span-59-8><a id=__codelineno-59-8 name=__codelineno-59-8></a><a href=#__codelineno-59-8><span class=linenos data-linenos=" 8 "></span></a><span class=k>FROM</span><span class=w> </span><span class=s>alpine:3.18</span>
</span><span id=__span-59-9><a id=__codelineno-59-9 name=__codelineno-59-9></a><a href=#__codelineno-59-9><span class=linenos data-linenos=" 9 "></span></a><span class=k>RUN</span><span class=w> </span>apk<span class=w> </span>add<span class=w> </span>--no-cache<span class=w> </span>ca-certificates
</span><span id=__span-59-10><a id=__codelineno-59-10 name=__codelineno-59-10></a><a href=#__codelineno-59-10><span class=linenos data-linenos="10 "></span></a><span class=k>COPY</span><span class=w> </span>--from<span class=o>=</span>builder<span class=w> </span>/build/myapp<span class=w> </span>/
</span><span id=__span-59-11><a id=__codelineno-59-11 name=__codelineno-59-11></a><a href=#__codelineno-59-11><span class=linenos data-linenos="11 "></span></a><span class=k>ENTRYPOINT</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;/myapp&quot;</span><span class=p>]</span>
</span></code></pre></div> <hr> <h2 id=synthese-et-chemins-dapprentissage>üîç Synth√®se et Chemins d'Apprentissage<a class=headerlink href=#synthese-et-chemins-dapprentissage title="Permanent link">&para;</a></h2> <h3 id=progression-logique-de-lapprentissage>Progression Logique de l'Apprentissage<a class=headerlink href=#progression-logique-de-lapprentissage title="Permanent link">&para;</a></h3> <p>Le chemin d'apprentissage optimal pour ma√Ætriser le partage d'images Docker suit une progression logique :</p> <h4 id=phase-1-comprehension-des-concepts-fondamentaux>Phase 1 : Compr√©hension des Concepts Fondamentaux<a class=headerlink href=#phase-1-comprehension-des-concepts-fondamentaux title="Permanent link">&para;</a></h4> <p>L'apprenant doit d'abord comprendre la distinction fondamentale entre images et conteneurs. Cette distinction sous-tend toutes les commandes de manipulation ult√©rieures. Docker Hub doit √™tre explor√© comme r√©f√©rentiel central, permettant une familiarisation avec l'√©cosyst√®me.</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-60-1><a id=__codelineno-60-1 name=__codelineno-60-1></a><a href=#__codelineno-60-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Activit√©s de Phase 1</span>
</span><span id=__span-60-2><a id=__codelineno-60-2 name=__codelineno-60-2></a><a href=#__codelineno-60-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>search<span class=w> </span>nginx
</span><span id=__span-60-3><a id=__codelineno-60-3 name=__codelineno-60-3></a><a href=#__codelineno-60-3><span class=linenos data-linenos="3 "></span></a>docker<span class=w> </span>pull<span class=w> </span>ubuntu:22.04
</span><span id=__span-60-4><a id=__codelineno-60-4 name=__codelineno-60-4></a><a href=#__codelineno-60-4><span class=linenos data-linenos="4 "></span></a>docker<span class=w> </span>images
</span><span id=__span-60-5><a id=__codelineno-60-5 name=__codelineno-60-5></a><a href=#__codelineno-60-5><span class=linenos data-linenos="5 "></span></a>docker<span class=w> </span>run<span class=w> </span>-it<span class=w> </span>ubuntu:22.04<span class=w> </span>/bin/bash
</span></code></pre></div> <h4 id=phase-2-maitrise-des-commandes-de-base>Phase 2 : Ma√Ætrise des Commandes de Base<a class=headerlink href=#phase-2-maitrise-des-commandes-de-base title="Permanent link">&para;</a></h4> <p>Une fois les concepts acquis, les commandes <code>save</code>/<code>load</code> doivent √™tre pratiqu√©es extensivement. Ces commandes sont plus simples conceptuellement que <code>export</code>/<code>import</code> et constituent les outils les plus couramment utilis√©s.</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-61-1><a id=__codelineno-61-1 name=__codelineno-61-1></a><a href=#__codelineno-61-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Activit√©s de Phase 2</span>
</span><span id=__span-61-2><a id=__codelineno-61-2 name=__codelineno-61-2></a><a href=#__codelineno-61-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>save<span class=w> </span>ubuntu:22.04<span class=w> </span>&gt;<span class=w> </span>ubuntu.tar
</span><span id=__span-61-3><a id=__codelineno-61-3 name=__codelineno-61-3></a><a href=#__codelineno-61-3><span class=linenos data-linenos="3 "></span></a>docker<span class=w> </span>rmi<span class=w> </span>ubuntu:22.04
</span><span id=__span-61-4><a id=__codelineno-61-4 name=__codelineno-61-4></a><a href=#__codelineno-61-4><span class=linenos data-linenos="4 "></span></a>docker<span class=w> </span>load<span class=w> </span>&lt;<span class=w> </span>ubuntu.tar
</span><span id=__span-61-5><a id=__codelineno-61-5 name=__codelineno-61-5></a><a href=#__codelineno-61-5><span class=linenos data-linenos="5 "></span></a>docker<span class=w> </span>save<span class=w> </span>--output<span class=w> </span>nginx.tar<span class=w> </span>nginx:latest
</span></code></pre></div> <h4 id=phase-3-exploration-des-cas-dusage-specialises>Phase 3 : Exploration des Cas d'Usage Sp√©cialis√©s<a class=headerlink href=#phase-3-exploration-des-cas-dusage-specialises title="Permanent link">&para;</a></h4> <p>Ensuite, les commandes <code>export</code>/<code>import</code> peuvent √™tre explor√©es pour comprendre quand et pourquoi les utiliser. Ce stade introduit la complexit√© de la manipulation des conteneurs et des snapshots.</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-62-1><a id=__codelineno-62-1 name=__codelineno-62-1></a><a href=#__codelineno-62-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Activit√©s de Phase 3</span>
</span><span id=__span-62-2><a id=__codelineno-62-2 name=__codelineno-62-2></a><a href=#__codelineno-62-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>run<span class=w> </span>-d<span class=w> </span>--name<span class=w> </span>test-container<span class=w> </span>ubuntu:22.04<span class=w> </span>sleep<span class=w> </span><span class=m>1000</span>
</span><span id=__span-62-3><a id=__codelineno-62-3 name=__codelineno-62-3></a><a href=#__codelineno-62-3><span class=linenos data-linenos="3 "></span></a>docker<span class=w> </span><span class=nb>exec</span><span class=w> </span>test-container<span class=w> </span>touch<span class=w> </span>/test-file
</span><span id=__span-62-4><a id=__codelineno-62-4 name=__codelineno-62-4></a><a href=#__codelineno-62-4><span class=linenos data-linenos="4 "></span></a>docker<span class=w> </span><span class=nb>export</span><span class=w> </span>test-container<span class=w> </span>&gt;<span class=w> </span>snapshot.tar
</span><span id=__span-62-5><a id=__codelineno-62-5 name=__codelineno-62-5></a><a href=#__codelineno-62-5><span class=linenos data-linenos="5 "></span></a>docker<span class=w> </span>import<span class=w> </span>snapshot.tar<span class=w> </span>my-snapshot:v1.0
</span><span id=__span-62-6><a id=__codelineno-62-6 name=__codelineno-62-6></a><a href=#__codelineno-62-6><span class=linenos data-linenos="6 "></span></a>docker<span class=w> </span>run<span class=w> </span>my-snapshot:v1.0<span class=w> </span>ls<span class=w> </span>/test-file
</span></code></pre></div> <h4 id=phase-4-publication-et-integration>Phase 4 : Publication et Int√©gration<a class=headerlink href=#phase-4-publication-et-integration title="Permanent link">&para;</a></h4> <p>La publication sur Docker Hub consolide tous les concepts pr√©c√©dents. L'apprenant applique ses connaissances pour cr√©er, taguer et distribuer des images.</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-63-1><a id=__codelineno-63-1 name=__codelineno-63-1></a><a href=#__codelineno-63-1><span class=linenos data-linenos="1 "></span></a><span class=c1># Activit√©s de Phase 4</span>
</span><span id=__span-63-2><a id=__codelineno-63-2 name=__codelineno-63-2></a><a href=#__codelineno-63-2><span class=linenos data-linenos="2 "></span></a>docker<span class=w> </span>build<span class=w> </span>-t<span class=w> </span>montextura/myapp:v1.0<span class=w> </span>.
</span><span id=__span-63-3><a id=__codelineno-63-3 name=__codelineno-63-3></a><a href=#__codelineno-63-3><span class=linenos data-linenos="3 "></span></a>docker<span class=w> </span>login
</span><span id=__span-63-4><a id=__codelineno-63-4 name=__codelineno-63-4></a><a href=#__codelineno-63-4><span class=linenos data-linenos="4 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:v1.0
</span><span id=__span-63-5><a id=__codelineno-63-5 name=__codelineno-63-5></a><a href=#__codelineno-63-5><span class=linenos data-linenos="5 "></span></a>docker<span class=w> </span><span class=nb>logout</span>
</span></code></pre></div> <h3 id=tableau-comparatif-complet-des-commandes>Tableau Comparatif Complet des Commandes<a class=headerlink href=#tableau-comparatif-complet-des-commandes title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Commande</th> <th>Type</th> <th>Source</th> <th>Destination</th> <th>Pr√©servation</th> <th>Utilisation</th> </tr> </thead> <tbody> <tr> <td><code>docker save</code></td> <td>Image</td> <td>Image locale</td> <td>Archive TAR</td> <td>Compl√®te avec couches</td> <td>Transfert, cache, archivage</td> </tr> <tr> <td><code>docker load</code></td> <td>Image</td> <td>Archive TAR</td> <td>Image locale</td> <td>Identique √† l'original</td> <td>Restauration depuis archive</td> </tr> <tr> <td><code>docker export</code></td> <td>Conteneur</td> <td>Conteneur</td> <td>Archive TAR</td> <td>Syst√®me de fichiers aplati</td> <td>D√©bogage, snapshots</td> </tr> <tr> <td><code>docker import</code></td> <td>Conteneur</td> <td>Archive TAR</td> <td>Nouvelle image</td> <td>Aplatissement en couche unique</td> <td>Cr√©er images de base</td> </tr> <tr> <td><code>docker push</code></td> <td>Image</td> <td>Image locale</td> <td>Registre distant</td> <td>Compl√®te</td> <td>Publication et partage</td> </tr> <tr> <td><code>docker pull</code></td> <td>Image</td> <td>Registre distant</td> <td>Image locale</td> <td>Compl√®te</td> <td>T√©l√©chargement</td> </tr> </tbody> </table> <h3 id=reponse-aux-cas-dusage-courants>R√©ponse aux Cas d'Usage Courants<a class=headerlink href=#reponse-aux-cas-dusage-courants title="Permanent link">&para;</a></h3> <p><strong>"Je dois sauvegarder une image pour plus tard"</strong> ‚Üí Utilisez <code>docker save</code> + compression</p> <p><strong>"Je dois d√©boguer un conteneur d√©faillant"</strong> ‚Üí Utilisez <code>docker export</code> pour capturer l'√©tat</p> <p><strong>"Je dois partager mon application avec l'√©quipe"</strong> ‚Üí Utilisez <code>docker push</code> vers Docker Hub</p> <p><strong>"Je dois cr√©er une image personnalis√©e bas√©e sur un conteneur modifi√©"</strong> ‚Üí Utilisez <code>docker export</code> + <code>docker import</code></p> <p><strong>"Je dois transf√©rer des images entre serveurs sans registre"</strong> ‚Üí Utilisez <code>docker save</code> + <code>docker load</code></p> <p><strong>"Je dois cr√©er une base √† partir d'un conteneur existant"</strong> ‚Üí Utilisez <code>docker commit</code> (alternative) ou <code>docker export</code> + <code>docker import</code></p> <h3 id=bonnes-pratiques-de-production>Bonnes Pratiques de Production<a class=headerlink href=#bonnes-pratiques-de-production title="Permanent link">&para;</a></h3> <p>L'utilisation professionnelle de ces commandes implique l'application de plusieurs principes :</p> <p><strong>Nommage Coh√©rent</strong> : Maintenir une convention de nommage stricte facilite la gestion ult√©rieure.</p> <p><strong>Documentation</strong> : Accompagner chaque image publi√©e d'une documentation README compl√®te.</p> <p><strong>Tests Avant Publication</strong> : V√©rifier syst√©matiquement qu'une image fonctionne correctement avant de la publier.</p> <p><strong>Versioning Strict</strong> : √âviter le tag "latest" en production, pr√©f√©rer les versions explicites.</p> <p><strong>S√©curit√©</strong> : Scanner les images pour des vuln√©rabilit√©s avant publication.</p> <div class="language-bash highlight"><span class=filename>Bash</span><pre><span></span><code><span id=__span-64-1><a id=__codelineno-64-1 name=__codelineno-64-1></a><a href=#__codelineno-64-1><span class=linenos data-linenos=" 1 "></span></a><span class=c1># Exemple de workflow complet s√©curis√©</span>
</span><span id=__span-64-2><a id=__codelineno-64-2 name=__codelineno-64-2></a><a href=#__codelineno-64-2><span class=linenos data-linenos=" 2 "></span></a>docker<span class=w> </span>build<span class=w> </span>-t<span class=w> </span>montextura/myapp:v1.0.1<span class=w> </span>.
</span><span id=__span-64-3><a id=__codelineno-64-3 name=__codelineno-64-3></a><a href=#__codelineno-64-3><span class=linenos data-linenos=" 3 "></span></a>
</span><span id=__span-64-4><a id=__codelineno-64-4 name=__codelineno-64-4></a><a href=#__codelineno-64-4><span class=linenos data-linenos=" 4 "></span></a><span class=c1># Tester localement</span>
</span><span id=__span-64-5><a id=__codelineno-64-5 name=__codelineno-64-5></a><a href=#__codelineno-64-5><span class=linenos data-linenos=" 5 "></span></a>docker<span class=w> </span>run<span class=w> </span>-d<span class=w> </span>--name<span class=w> </span><span class=nb>test</span><span class=w> </span>montextura/myapp:v1.0.1
</span><span id=__span-64-6><a id=__codelineno-64-6 name=__codelineno-64-6></a><a href=#__codelineno-64-6><span class=linenos data-linenos=" 6 "></span></a>docker<span class=w> </span><span class=nb>exec</span><span class=w> </span><span class=nb>test</span><span class=w> </span>/test-script.sh
</span><span id=__span-64-7><a id=__codelineno-64-7 name=__codelineno-64-7></a><a href=#__codelineno-64-7><span class=linenos data-linenos=" 7 "></span></a>docker<span class=w> </span>stop<span class=w> </span><span class=nb>test</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>docker<span class=w> </span>rm<span class=w> </span><span class=nb>test</span>
</span><span id=__span-64-8><a id=__codelineno-64-8 name=__codelineno-64-8></a><a href=#__codelineno-64-8><span class=linenos data-linenos=" 8 "></span></a>
</span><span id=__span-64-9><a id=__codelineno-64-9 name=__codelineno-64-9></a><a href=#__codelineno-64-9><span class=linenos data-linenos=" 9 "></span></a><span class=c1># Scanner pour vuln√©rabilit√©s (avec Trivy)</span>
</span><span id=__span-64-10><a id=__codelineno-64-10 name=__codelineno-64-10></a><a href=#__codelineno-64-10><span class=linenos data-linenos="10 "></span></a>trivy<span class=w> </span>image<span class=w> </span>montextura/myapp:v1.0.1
</span><span id=__span-64-11><a id=__codelineno-64-11 name=__codelineno-64-11></a><a href=#__codelineno-64-11><span class=linenos data-linenos="11 "></span></a>
</span><span id=__span-64-12><a id=__codelineno-64-12 name=__codelineno-64-12></a><a href=#__codelineno-64-12><span class=linenos data-linenos="12 "></span></a><span class=c1># Publier si OK</span>
</span><span id=__span-64-13><a id=__codelineno-64-13 name=__codelineno-64-13></a><a href=#__codelineno-64-13><span class=linenos data-linenos="13 "></span></a>docker<span class=w> </span>login
</span><span id=__span-64-14><a id=__codelineno-64-14 name=__codelineno-64-14></a><a href=#__codelineno-64-14><span class=linenos data-linenos="14 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:v1.0.1
</span><span id=__span-64-15><a id=__codelineno-64-15 name=__codelineno-64-15></a><a href=#__codelineno-64-15><span class=linenos data-linenos="15 "></span></a>
</span><span id=__span-64-16><a id=__codelineno-64-16 name=__codelineno-64-16></a><a href=#__codelineno-64-16><span class=linenos data-linenos="16 "></span></a><span class=c1># Ajouter les tags suppl√©mentaires</span>
</span><span id=__span-64-17><a id=__codelineno-64-17 name=__codelineno-64-17></a><a href=#__codelineno-64-17><span class=linenos data-linenos="17 "></span></a>docker<span class=w> </span>tag<span class=w> </span>montextura/myapp:v1.0.1<span class=w> </span>montextura/myapp:v1.0
</span><span id=__span-64-18><a id=__codelineno-64-18 name=__codelineno-64-18></a><a href=#__codelineno-64-18><span class=linenos data-linenos="18 "></span></a>docker<span class=w> </span>tag<span class=w> </span>montextura/myapp:v1.0.1<span class=w> </span>montextura/myapp:latest
</span><span id=__span-64-19><a id=__codelineno-64-19 name=__codelineno-64-19></a><a href=#__codelineno-64-19><span class=linenos data-linenos="19 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:v1.0
</span><span id=__span-64-20><a id=__codelineno-64-20 name=__codelineno-64-20></a><a href=#__codelineno-64-20><span class=linenos data-linenos="20 "></span></a>docker<span class=w> </span>push<span class=w> </span>montextura/myapp:latest
</span></code></pre></div> <p>Cette compr√©hension compl√®te et progressive permet √† l'apprenant de ma√Ætriser l'ensemble des outils de gestion d'images Docker et de les appliquer efficacement selon les contextes sp√©cifiques rencontr√©s en pratique.</p> <hr> <p><a class=md-button href="https://x.com/intent/tweet?text=Chaptitre%204%20&url=https://ndu69110.github.io/docs/_projects/_formation-docker/docker-chap04/" target=_blank><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.234 10.162 22.977 0h-2.072l-7.591 8.824L7.251 0H.258l9.168 13.343L.258 24H2.33l8.016-9.318L16.749 24h6.993zm-2.837 3.299-.929-1.329L3.076 1.56h3.182l5.965 8.532.929 1.329 7.754 11.09h-3.182z"/></svg></span> Partager sur X</a></p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label="Pied de page"> <a href=../docker-chap03/ class="md-footer__link md-footer__link--prev" aria-label="Pr√©c√©dent: Chaptitre 3"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Pr√©c√©dent </span> <div class=md-ellipsis> Chaptitre 3 </div> </div> </a> <a href=../docker-chap05/ class="md-footer__link md-footer__link--next" aria-label="Suivant: Chaptitre 5"> <div class=md-footer__title> <span class=md-footer__direction> Suivant </span> <div class=md-ellipsis> Chaptitre 5 </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2025 | Built using MkDocs, Material for MkDocs and PyMdown Extensions <br> Hosted with ‚ù§Ô∏è in Github Pages </div> </div> <div class=md-social> <a href=https://github.com/ndu69110 target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg> </a> <a href=https://www.linkedin.com/in/nicolas-dupre-94b2a078/ target=_blank rel=noopener title="nicolas dupre on Linkedin" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=https://x.com/ndu69110 target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M357.2 48h70.6L273.6 224.2 455 464H313L201.7 318.6 74.5 464H3.8l164.9-188.5L-5.2 48h145.6l100.5 132.9zm-24.8 373.8h39.1L119.1 88h-42z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4></h4> <p></p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=analytics checked> <span class=task-list-indicator></span> Google Analytics </label> </li> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accepter</button> <button type=reset class="md-button md-button--primary">Refuser</button> <label class=md-button for=__settings>Param√©trer vos choix</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"annotate": null, "base": "../../..", "features": ["content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.footnote.tooltips", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune - navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate", "header.hide_repo_revision", "navigation.instant.preview", "navigation.path", "toc.sections", "search.related"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.e71a0d61.min.js></script> <script src=../../../javascripts/rename-code-title.js></script> <script src=../../../js/open_in_new_tab.js></script> <script src=../../../assets/javascripts/custom.95054b18.min.js></script> </body> </html>